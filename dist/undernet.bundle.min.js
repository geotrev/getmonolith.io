/*!
  * @license MIT (https://github.com/geotrev/undernet/blob/master/LICENSE)
  * Undernet v5.0.0 (https://undernet.io)
  * Copyright 2017-2019 George Treviranus
  */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).undernet={})}(this,function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e){var t=r.FOCUSABLE_TAGS.map(function(t){return"".concat(e," ").concat(t).concat(r.NOT_VISUALLY_HIDDEN_CLASS)}).join(", ");return p(t)}var c=16,h=9,a=38,s=40,r={FOCUSABLE_TAGS:["a","button","input","object","select","textarea","[tabindex]"],KEYBOARD_CLASS:"using-keyboard",NOT_VISUALLY_HIDDEN_CLASS:":not(.is-visually-hidden)"},d="keydown",u="click",_=function(t,e,i){return!1===i?t.removeAttribute(e):"string"==typeof i||null===i?t.setAttribute(e,i):t.getAttribute(e)},v=function(t,e){return t.hasAttribute(e)},f=function(t){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:document).querySelector(t)},p=function(t){return o((1<arguments.length&&void 0!==arguments[1]?arguments[1]:document).querySelectorAll(t))},w=function(t,e,i){return"string"==typeof i||null===i?t.style[e]=i:t.style[e]},y=function(t){for(var e,i=arguments.length,n=new Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return(e=t.classList).add.apply(e,n)},A=function(t){for(var e,i=arguments.length,n=new Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return(e=t.classList).remove.apply(e,n)},g=function(e){for(var t=arguments.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return i.length?i.filter(function(t){return e.classList.contains(t)}).length:e.classList.contains(i[0])},E=/(iphone|ipod|ipad)/i.test(navigator.userAgent),C=(i(b,[{key:"captureFocus",value:function(t,e){this._focusContainerSelector=t,this._focusableChildren=l(this._focusContainerSelector),this._focusableFirstChild=this._focusableChildren[0],this._focusableLastChild=this._focusableChildren[this._focusableChildren.length-1],e?e.useArrows&&(this._trapFocusWithArrows=e.useArrows||this._trapFocusWithArrows,document.addEventListener(d,this._handleFocusTrapWithArrows)):document.addEventListener(d,this._handleFocusTrapWithTab)}},{key:"releaseFocus",value:function(){this._trapFocusWithArrows?(document.removeEventListener(d,this._handleFocusTrapWithArrows),this._trapFocusWithArrows=!1):document.removeEventListener(d,this._handleFocusTrapWithTab)}},{key:"enableFocusOutline",value:function(){document.addEventListener(d,this._listenForKeyboard)}},{key:"disableFocusOutline",value:function(){this._listeningForKeydown?document.removeEventListener(d,this._listenForKeyboard):(document.body.classList.remove(r.KEYBOARD_CLASS),document.removeEventListener(u,this._listenForClick))}},{key:"_listenForKeyboard",value:function(){document.body.classList.add(r.KEYBOARD_CLASS),document.removeEventListener(d,this._listenForKeyboard),document.addEventListener(u,this._listenForClick),this._listeningForKeydown=!1}},{key:"_listenForClick",value:function(){document.body.classList.remove(r.KEYBOARD_CLASS),document.removeEventListener(u,this._listenForClick),document.addEventListener(d,this._listenForKeyboard),this._listeningForKeydown=!0}},{key:"_handleFocusTrapWithTab",value:function(t){var e=f(this._focusContainerSelector),i=document.activeElement===e,n=document.activeElement===this._focusableFirstChild,o=document.activeElement===this._focusableLastChild,a=t.which===h,s=t.which===c||t.shiftKey,r=!s&&a;s&&a&&(n||i)?(t.preventDefault(),this._focusableLastChild.focus()):r&&o&&(t.preventDefault(),this._focusableFirstChild.focus())}},{key:"_handleFocusTrapWithArrows",value:function(t){var e=document.activeElement===this._focusableFirstChild,i=document.activeElement===this._focusableLastChild,n=t.which===a,o=t.which===s;(n||o)&&(t.preventDefault(),e&&n?this._focusableLastChild.focus():i&&o?this._focusableFirstChild.focus():o?this._focusNextChild():n&&this._focusLastChild())}},{key:"_focusNextChild",value:function(){for(var t=0;t<this._focusableChildren.length;t++)if(this._focusableChildren[t]===document.activeElement){this._focusableChildren[t+1].focus();break}}},{key:"_focusLastChild",value:function(){for(var t=0;t<this._focusableChildren.length;t++)if(this._focusableChildren[t]===document.activeElement){this._focusableChildren[t-1].focus();break}}}]),b);function b(){e(this,b),this._listenForKeyboard=this._listenForKeyboard.bind(this),this._listenForClick=this._listenForClick.bind(this),this._handleFocusTrapWithTab=this._handleFocusTrapWithTab.bind(this),this._handleFocusTrapWithArrows=this._handleFocusTrapWithArrows.bind(this),this._focusContainerSelector="",this._focusableChildren=[],this._focusableFirstChild={},this._focusableLastChild={},this._listeningForKeydown=!1,this._trapFocusWithArrows=!1}var m="data-accordion",k="data-accordion-row",D="data-visible",L="data-target",T="data-toggle-multiple",O="data-parent",S="aria-expanded",B="aria-controls",R="aria-hidden",M="aria-labelledby",F="tabindex",I="click",P=function(t){return"Could not find accordion row with [data-visible] attribute associated with [data-target='".concat(t,"'].")},x=function(t){return"Could not find [data-accordion-row] associated with [data-target='".concat(t,"'].")},K=function(t){return"Could not find an id on your header associated with ".concat(t,".")},W=function(t){return"Could not find [data-accordion] attribute associated with [data-target='".concat(t,"'].")},N=function(t){return"Could not find accordion content block with id '".concat(t,"'; should match trigger with [data-target='").concat(t,"'].")},H=(i(V,[{key:"start",value:function(){var e=this,t=this._getAccordionButtonSelector("[".concat(m,"]"));this._accordionButtons=p(t),this._accordionButtons.length&&this._accordionButtons.forEach(function(t){e._setup(t),t.addEventListener(I,e._render)})}},{key:"stop",value:function(){var e=this;this._accordionButtons.forEach(function(t){t.removeEventListener(I,e._render)})}},{key:"_setup",value:function(t){var e=_(t,L),i=_(t,O),n=f("#".concat(e));if(!i)throw new Error(W(e));if(!n)throw new Error(N(e));var o=this._getAccordionRowAttr(e),a=f(o);if(!a)throw new Error(x(e));var s=t.id;if(!s)throw new Error(K(o));var r=l("#".concat(n.id));_(t,B,e),_(n,M,s);var c=_(a,D);if(!c)throw new Error(P(e));"true"===c?(w(n,"maxHeight","".concat(n.scrollHeight,"px")),_(t,S,"true"),_(n,R,"false"),r.forEach(function(t){_(t,F,"0")})):(_(t,S,"false"),_(n,R,"true"),r.forEach(function(t){_(t,F,"-1")}))}},{key:"_render",value:function(t){t.preventDefault(),this._activeButton=t.target,this._setIds(),this._setActiveRow(),this._setActiveContainer(),this._setActiveContent(),this._setVisibleState(),v(this._activeContainer,T)||this._closeAllIfToggleable(),this._toggleSelectedAccordion(),this._activeRow=null,this._activeButton=null,this._activeContent=null,this._activeContainer=null}},{key:"_setActiveContent",value:function(){this._activeContent=f("#".concat(this._activeAccordionRowId))}},{key:"_setVisibleState",value:function(){var t=_(this._activeRow,D);this._nextButtonExpandState="true"===t?"false":"true",this._nextContentHiddenState="false"===this._nextButtonExpandState?"true":"false"}},{key:"_setIds",value:function(){this._activeContainerId=_(this._activeButton,O),this._activeAccordionRowId=_(this._activeButton,L)}},{key:"_setActiveContainer",value:function(){this._activeContainerAttr="[".concat(m,"='").concat(this._activeContainerId,"']"),this._activeContainer=f(this._activeContainerAttr)}},{key:"_setActiveRow",value:function(){this._activeRowAttr=this._getAccordionRowAttr(this._activeAccordionRowId),this._activeRow=f(this._activeRowAttr)}},{key:"_getAccordionButtonSelector",value:function(e){return this._headers.map(function(t){return"".concat(e," > [").concat(k,"] > ").concat(t," [").concat(L,"]")}).join(", ")}},{key:"_getAccordionRowAttr",value:function(t){return"[".concat(k,"='").concat(t,"']")}},{key:"_closeAllIfToggleable",value:function(){var e=this,t="".concat(this._activeContainerAttr," > [").concat(k,"] > [").concat(R,"]"),i=p(t),n=this._getAccordionButtonSelector(this._activeContainerAttr),o=p(n),a=p("".concat(this._activeContainerAttr," > [").concat(k,"]"));i.filter(function(t){return t!==e._activeContent}).forEach(function(t){return w(t,"maxHeight",null)}),l(t).forEach(function(t){t.setAttribute(F,"-1")}),this._toggleAttributeInCollection(a,D,"false"),this._toggleAttributeInCollection(o,S,"false"),this._toggleAttributeInCollection(i,R,"true")}},{key:"_toggleSelectedAccordion",value:function(){var i=this;_(this._activeRow,D,this._nextButtonExpandState),_(this._activeButton,S,this._nextButtonExpandState),_(this._activeContent,R,this._nextContentHiddenState),l("#".concat(this._activeAccordionRowId)).forEach(function(t){var e="true"===i._nextButtonExpandState?"0":"-1";_(t,F,e)}),w(this._activeContent,"maxHeight")?w(this._activeContent,"maxHeight",null):w(this._activeContent,"maxHeight","".concat(this._activeContent.scrollHeight,"px"))}},{key:"_toggleAttributeInCollection",value:function(t,e,i){t.forEach(function(t){return _(t,e,i)})}}]),V);function V(){e(this,V),this._render=this._render.bind(this),this._accordionButtons=[],this._accordionContentsAttr="",this._accordionContents=[],this._activeContainer={},this._activeButton={},this._activeAccordionRowId="",this._activeRowAttr="",this._activeRow="",this._activeContainerId="",this._activeContainerAttr="",this._activeContent={},this._activeButtonExpandState="",this._activeContentHiddenState="",this._headers=["h1","h2","h3","h4","h5","h6"]}var U=new C,X=9,j=16,Y=27,G=38,q=40,z={DATA_DROPDOWN:"data-dropdown",DATA_TARGET:"data-target",DATA_PARENT:"data-parent",DATA_VISIBLE:"data-visible",TABINDEX:"tabindex",ARIA_HASPOPUP:"aria-haspopup",ARIA_CONTROLS:"aria-controls",ARIA_LABELLEDBY:"aria-labelledby",ARIA_EXPANDED:"aria-expanded",ROLE:"role"},J="keydown",Q="click",Z="Could not setup dropdown. Make sure it has a valid [data-dropdown] attribute with a unique id as its value.",$=function(t){return"Could not find menu associated with ".concat(t,".")},tt=function(t){return"Could not find any list items associated with ".concat(t,".")},et=function(t){return"Could not find any button or anchor elements associated with ".concat(t,".")},it="Could not find dropdown button's [data-parent] attribute.",nt=(i(ot,[{key:"start",value:function(){var e=this;this._dropdowns=p("".concat(this._dropdownContainerAttr)),this._dropdownButtons=p("".concat(this._dropdownContainerAttr," > ").concat(this._dropdownTargetAttr)),this._dropdowns.length&&this._dropdowns.forEach(function(t){return e._setup(t)}),this._dropdownButtons.forEach(function(t){t.addEventListener(Q,e._render),t.addEventListener(J,e._renderWithKeys)})}},{key:"stop",value:function(){var e=this;this._dropdownButtons.forEach(function(t){t.removeEventListener(Q,e._render),t.removeEventListener(J,e._renderWithKeys)})}},{key:"_setup",value:function(t){var e=t.getAttribute(z.DATA_DROPDOWN);if(!e)throw new Error(Z);var i="[".concat(z.DATA_DROPDOWN,'="').concat(e,'"]'),n=f("".concat(i," > ").concat(this._dropdownTargetAttr));if(!_(n,z.DATA_PARENT))throw new Error(it);var o=f("".concat(i," > ul"));if(!o)throw new Error($(i));_(o,z.ARIA_LABELLEDBY,n.id),_(n,z.ARIA_CONTROLS,o.id),_(n,z.ARIA_HASPOPUP,"true"),_(n,z.ARIA_EXPANDED,"false");var a="".concat(i," > ul > li"),s=p(a);if(!s.length)throw new Error(tt(i));s.forEach(function(t){return _(t,z.ROLE,"none")});var r=this._getDropdownLinks(i);if(!r.length)throw new Error(et(i));r.forEach(function(t){_(t,z.ROLE,"menuitem"),_(t,z.TABINDEX,"-1")})}},{key:"_render",value:function(t,e){t.preventDefault(),t.stopPropagation(),this._handleOpenDropdown(t),this._activeDropdownButton=t.target,this._setActiveDropdownId(),this._setActiveDropdown(),this._setActiveDropdownMenu(),this._setVisibleState(),this._listenToClose(),this._startEvents(),e&&e===G?this._lastDropdownLink.focus():this._firstDropdownLink.focus(),E&&w(document.body,"cursor","pointer")}},{key:"_handleClose",value:function(t){t.preventDefault(),E&&w(document.body,"cursor","auto"),U.releaseFocus(),this._handleHideState(),this._listenToRender(),this._stopEvents(),this._allowFocusReturn&&this._handleReturnFocus(),this._activeDropdownButton=null,this._activeDropdownId=null,this._activeDropdown=null}},{key:"_listenToRender",value:function(){this._activeDropdownButton.removeEventListener(Q,this._handleClose),this._activeDropdownButton.addEventListener(Q,this._render)}},{key:"_handleHideState",value:function(){var e=this;_(this._activeDropdownButton,z.ARIA_EXPANDED,"false"),_(this._activeDropdown,z.DATA_VISIBLE,"false"),this._activeDropdownLinks.forEach(function(t){_(t,z.TABINDEX,"-1"),t.removeEventListener(Q,e._handleClose)})}},{key:"_stopEvents",value:function(){document.removeEventListener(J,this._handleEscapeKeyPress),document.removeEventListener(Q,this._handleOffMenuClick)}},{key:"_setActiveDropdownId",value:function(){this._activeDropdownId=_(this._activeDropdownButton,z.DATA_PARENT)}},{key:"_startEvents",value:function(){var e=this;document.addEventListener(J,this._handleEscapeKeyPress),document.addEventListener(Q,this._handleOffMenuClick),this._activeDropdownLinks=this._getDropdownLinks(this._activeDropdownAttr),this._firstDropdownLink=this._activeDropdownLinks[0],this._lastDropdownLink=this._activeDropdownLinks[this._activeDropdownLinks.length-1],this._firstDropdownLink.addEventListener(J,this._handleFirstTabClose),this._lastDropdownLink.addEventListener(J,this._handleLastTabClose),this._activeDropdownLinks.forEach(function(t){_(t,z.TABINDEX,"0"),t.addEventListener(Q,e._handleClose)}),U.captureFocus("".concat(this._activeDropdownAttr," > ul"),{useArrows:!0})}},{key:"_listenToClose",value:function(){this._activeDropdownButton.removeEventListener(Q,this._render),this._activeDropdownButton.addEventListener(Q,this._handleClose)}},{key:"_setVisibleState",value:function(){_(this._activeDropdownButton,z.ARIA_EXPANDED,"true"),_(this._activeDropdown,z.DATA_VISIBLE,"true")}},{key:"_setActiveDropdownMenu",value:function(){this._activeDropdownMenuId=_(this._activeDropdownButton,z.DATA_TARGET),this._activeDropdownMenu=f("#".concat(this._activeDropdownMenuId))}},{key:"_setActiveDropdown",value:function(){this._activeDropdownAttr="[".concat(z.DATA_DROPDOWN,'="').concat(this._activeDropdownId,'"]'),this._activeDropdown=f(this._activeDropdownAttr)}},{key:"_handleOpenDropdown",value:function(t){this._activeDropdownButton&&(this._allowFocusReturn=!1,this._handleClose(t),this._allowFocusReturn=!0)}},{key:"_handleFirstTabClose",value:function(t){var e=t.which===j||t.shiftKey,i=t.which===X;e&&i&&this._handleClose(t)}},{key:"_handleLastTabClose",value:function(t){var e=t.which===j||t.shiftKey;t.which!==X||e||this._handleClose(t)}},{key:"_renderWithKeys",value:function(t){t.which!==G&&t.which!==q||this._render(t,t.which)}},{key:"_handleEscapeKeyPress",value:function(t){t.which===Y&&this._handleClose(t)}},{key:"_handleOffMenuClick",value:function(t){t.target!==this._activeDropdownButton&&t.target!==this._activeDropdownMenu&&this._handleClose(t)}},{key:"_handleReturnFocus",value:function(){_(this._activeDropdownButton,z.TAB_INDEX,"-1"),this._activeDropdownButton.focus(),_(this._activeDropdownButton,z.TAB_INDEX,!1)}},{key:"_getDropdownLinks",value:function(t){return p("".concat(t," > ul > li > a, ").concat(t," > ul > li > button"))}}]),ot);function ot(){e(this,ot),this._render=this._render.bind(this),this._handleFirstTabClose=this._handleFirstTabClose.bind(this),this._handleLastTabClose=this._handleLastTabClose.bind(this),this._renderWithKeys=this._renderWithKeys.bind(this),this._handleClose=this._handleClose.bind(this),this._handleEscapeKeyPress=this._handleEscapeKeyPress.bind(this),this._handleOffMenuClick=this._handleOffMenuClick.bind(this),this._activeDropdown={},this._activeDropdownButton=null,this._activeDropdownMenu={},this._activeDropdownLinks=[],this._allowFocusReturn=!0,this._activeDropdownId="",this._activeDropdownAttr="",this._activeDropdownMenuId="",this._firstDropdownLink={},this._lastDropdownLink={},this._dropdownButtons=[],this._dropdowns=[],this._dropdownContainerAttr="[".concat(z.DATA_DROPDOWN,"]"),this._dropdownTargetAttr="[".concat(z.DATA_TARGET,"]")}var at=new C,st=27,rt="data-modal",ct="data-target",lt="data-visible",ht="data-close",dt="data-parent",ut="aria-hidden",_t="aria-modal",vt="role",ft="tabindex",pt="no-scroll",wt="keydown",yt="click",At=function(t){return"Could not find modal trigger with id ".concat(t,".")},gt="Could not detect an id on your [data-modal] element. Please add a value matching the modal trigger's [data-parent] attribute.",Et=function(t){return"Could not find a [data-parent='".concat(t,"'] attribute within your [data-modal='").concat(t,"'] element.")},Ct=(i(bt,[{key:"start",value:function(){var e=this;this._modals=p(this._modalContainerAttr),l(this._modalContainerAttr).forEach(function(t){_(t,ft,"-1")}),this._modals.length&&this._modals.forEach(function(t){e._setup(t)})}},{key:"stop",value:function(){var n=this;this._modals.forEach(function(t){var e=_(t,rt),i=f("[".concat(ct,"='").concat(e,"']"));if(!i)throw new Error(At(e));i.removeEventListener(yt,n._render)})}},{key:"_setup",value:function(t){var e=_(t,rt);if(!e)throw new Error(gt);var i=f("[".concat(dt,"='").concat(e,"']"),t);if(!i)throw new Error(Et(e));var n=f("[".concat(rt,"='").concat(e,"']"));_(n,ut,"true"),_(n,lt,"false"),_(i,_t,"true"),_(i,vt,"dialog");var o=f("[".concat(ct,"='").concat(e,"']"));if(!o)throw new Error(At(e));o.addEventListener(yt,this._render)}},{key:"_render",value:function(t){t.preventDefault(),this._activeModalButton=t.target,this._setActiveModalId(),this._setActiveModalOverlay(),this._setActiveModal(),this._enableFocusOnChildren(),this._handleScrollbarOffset(),this._handleScrollStop(),at.captureFocus(this._activeModalSelector),this._setAttributes(),this._setCloseButtons(),this._handleModalFocus(),this._activeModalOverlay.scrollTop=0,this._startEvents()}},{key:"_handleClose",value:function(t){t.preventDefault(),this._stopEvents(),this._handleReturnFocus(),this._removeAttributes(),at.releaseFocus(),this._handleScrollRestore(),this._removeScrollbarOffset(),this._disableFocusOnChildren(),E&&w(this._activeModalOverlay,"cursor","auto"),this._activeModalId=null,this._activeModalButton=null,this._activeModal=null}},{key:"_setCloseButtons",value:function(){this._activeModalCloseButtons=p("".concat(this._activeModalSelector," [").concat(ht,"]"))}},{key:"_setActiveModalId",value:function(){this._activeModalId=_(this._activeModalButton,ct)}},{key:"_setActiveModalOverlay",value:function(){this._activeModalOverlay=f("[".concat(rt,"='").concat(this._activeModalId,"']"))}},{key:"_removeAttributes",value:function(){_(this._activeModalOverlay,lt,"false"),_(this._activeModalOverlay,ut,"true"),_(this._activeModal,ft,!1)}},{key:"_disableFocusOnChildren",value:function(){l(this._activeModalSelector).forEach(function(t){_(t,ft,"-1")})}},{key:"_stopEvents",value:function(){var e=this;document.removeEventListener(wt,this._handleEscapeKeyPress),document.removeEventListener(yt,this._handleOverlayClick),this._activeModalCloseButtons.forEach(function(t){t.removeEventListener(yt,e._handleClose)})}},{key:"_setActiveModal",value:function(){this._activeModalSelector="[".concat(dt,"='").concat(this._activeModalId,"']"),this._activeModal=f(this._activeModalSelector,this._activeModalOverlay)}},{key:"_setAttributes",value:function(){_(this._activeModalOverlay,ut,"false"),_(this._activeModalOverlay,lt,"true"),E&&w(this._activeModalOverlay,"cursor","pointer")}},{key:"_startEvents",value:function(){var e=this;document.addEventListener(wt,this._handleEscapeKeyPress),document.addEventListener(yt,this._handleOverlayClick),this._activeModalCloseButtons.forEach(function(t){t.addEventListener(yt,e._handleClose)})}},{key:"_handleModalFocus",value:function(){_(this._activeModal,ft,"-1"),this._activeModal.focus()}},{key:"_enableFocusOnChildren",value:function(){l(this._activeModalSelector).forEach(function(t){t.setAttribute(ft,"0")})}},{key:"_getScrollbarOffset",value:function(){return window.innerWidth-document.body.getBoundingClientRect().right}},{key:"_handleScrollbarOffset",value:function(){this._scrollbarIsVisible()&&(this._scrollbarOffset=this._getScrollbarOffset(),this._originalPagePaddingRight=w(document.body,"paddingRight"),w(document.body,"paddingRight","".concat(this._scrollbarOffset,"px")))}},{key:"_scrollbarIsVisible",value:function(){if("number"==typeof window.innerWidth)return window.innerWidth>document.body.getBoundingClientRect().right}},{key:"_removeScrollbarOffset",value:function(){var t=this,e=this._originalPagePaddingRight;w(this._activeModalOverlay,"paddingLeft","".concat(this._scrollbarOffset,"px")),setTimeout(function(){return w(t._activeModalOverlay,"paddingLeft","")},500),w(document.body,"paddingRight",e?"".concat(e,"px"):"")}},{key:"_handleOverlayClick",value:function(t){t.target===this._activeModalOverlay&&this._handleClose(t)}},{key:"_handleEscapeKeyPress",value:function(t){t.which===st&&this._handleClose(t)}},{key:"_handleReturnFocus",value:function(){_(this._activeModalButton,ft,"-1"),this._activeModalButton.focus(),_(this._activeModalButton,ft,!1)}},{key:"_handleScrollRestore",value:function(){A(document.body,pt),A(document.documentElement,pt)}},{key:"_handleScrollStop",value:function(){y(document.body,pt),y(document.documentElement,pt)}}]),bt);function bt(){e(this,bt),this._render=this._render.bind(this),this._handleClose=this._handleClose.bind(this),this._handleOverlayClick=this._handleOverlayClick.bind(this),this._handleEscapeKeyPress=this._handleEscapeKeyPress.bind(this),this._modals=[],this._modalButtons=[],this._activeModalButton={},this._activeModalOverlay={},this._activeModal={},this._activeModalId="",this._activeModalSelector="",this._activeModalCloseButtons=[],this._originalPagePaddingRight="",this._scrollbarOffset=0,this._modalContainerAttr="[".concat(rt,"]")}var mt=27,kt="data-tooltip",Dt="data-visible",Lt="data-target",Tt="role",Ot="aria-describedby",St="is-drop-left",Bt="is-drop-right",Rt="mouseover",Mt="mouseout",Ft="focus",It="blur",Pt="keydown",xt="Could not find your tooltip's id.",Kt=function(t){return"Could not find a tooltip trigger with id of ".concat(t,".")},Wt=function(t){return"Could not find a tooltip with id of ".concat(t,".")},Nt=(i(Ht,[{key:"start",value:function(){var e=this;this._allTooltips=p("[".concat(kt,"]")),this._allTooltips.forEach(function(t){e._setup(t)})}},{key:"stop",value:function(){var n=this;this._allTooltips.forEach(function(t){var e=_(t,kt),i=f(n._getTrigger(e),t);(n._activeTooltip||n._activeTrigger)&&n._handleClose(),i.removeEventListener(Rt,n._render),i.removeEventListener(Ft,n._render)})}},{key:"_setup",value:function(t){var e=_(t,kt);if(!e)throw new Error(xt);var i=f(this._getTrigger(e),t),n=f("#".concat(e),t);if(!i)throw new Error(Kt(e));if(!n)throw new Error(Wt(e));_(i,Ot,e),_(n,Tt,"tooltip"),i.addEventListener(Rt,this._render),i.addEventListener(Ft,this._render)}},{key:"_render",value:function(t){this._activeTrigger=t.target;var e=this._activeTrigger.getAttribute(Lt);this._activeTooltip=document.getElementById(e),this._isLeftOrRight()?this._alignTooltip("height"):this._alignTooltip("width"),this._setVisibleState(),this._startCloseEvents()}},{key:"_handleClose",value:function(){this._setHideState(),this._startOpenEvents(),this._activeTrigger=null,this._activeTooltip=null}},{key:"_setVisibleState",value:function(){_(this._activeTooltip,Dt,"true")}},{key:"_setHideState",value:function(){_(this._activeTooltip,Dt,"false")}},{key:"_startCloseEvents",value:function(){this._activeTrigger.removeEventListener(Rt,this._render),this._activeTrigger.removeEventListener(Ft,this._render),this._activeTrigger.addEventListener(Mt,this._handleClose),this._activeTrigger.addEventListener(It,this._handleClose),document.addEventListener(Pt,this._handleEscapeKeyPress),E&&w(document.body,"cursor","pointer")}},{key:"_handleEscapeKeyPress",value:function(t){t.which===mt&&this._handleClose()}},{key:"_startOpenEvents",value:function(){this._activeTrigger.removeEventListener(Mt,this._handleClose),this._activeTrigger.removeEventListener(It,this._handleClose),this._activeTrigger.addEventListener(Rt,this._render),this._activeTrigger.addEventListener(Ft,this._render),document.removeEventListener(Pt,this._handleEscapeKeyPress),E&&w(document.body,"cursor","auto")}},{key:"_alignTooltip",value:function(t){var e=this._getSize(this._activeTrigger,t),i=this._getSize(this._activeTooltip,t),n=i<e?(e-i)/2:(i-e)/-2;w(this._activeTooltip,"height"===t?"top":"left","".concat(n,"px"))}},{key:"_getTrigger",value:function(t){return"[".concat(Lt,'="').concat(t,'"]')}},{key:"_getSize",value:function(t,e){return Math.floor(t.getBoundingClientRect()[e])}},{key:"_isLeftOrRight",value:function(){return g(this._activeTooltip,St,Bt)}}]),Ht);function Ht(){e(this,Ht),this._render=this._render.bind(this),this._handleClose=this._handleClose.bind(this),this._handleEscapeKeyPress=this._handleEscapeKeyPress.bind(this),this._activeTrigger=null,this._activeTooltip=null,this._allTooltips=[]}var Vt=new H,Ut=new nt,Xt=new Ct,jt=new Nt,Yt=new C,Undernet={Modals:Xt,Accordions:Vt,Dropdowns:Ut,Tooltips:jt,ContextUtil:Yt,start:function(){Undernet.Modals.start(),Undernet.Accordions.start(),Undernet.Dropdowns.start(),Undernet.Tooltips.start(),Yt.enableFocusOutline()},stop:function(){Undernet.Modals.stop(),Undernet.Accordions.stop(),Undernet.Dropdowns.stop(),Undernet.Tooltips.stop(),Yt.disableFocusOutline()}};window.Undernet=Undernet,t.Accordions=Vt,t.ContextUtil=Yt,t.Dropdowns=Ut,t.Modals=Xt,t.Tooltips=jt,t.Undernet=Undernet,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=undernet.bundle.min.js.map
