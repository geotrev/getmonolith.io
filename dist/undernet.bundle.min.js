/*!
  * @license MIT (https://github.com/geotrev/undernet/blob/master/LICENSE)
  * Undernet v5.1.0 (https://undernet.io)
  * Copyright 2017-2019 George Treviranus
  */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).undernet={})}(this,function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e){var t=r.FOCUSABLE_TAGS.map(function(t){return"".concat(e," ").concat(t).concat(r.NOT_VISUALLY_HIDDEN_CLASS)}).join(", ");return w(t)}var c=16,h=9,a=38,s=40,r={FOCUSABLE_TAGS:["a","button","input","object","select","textarea","[tabindex]"],KEYBOARD_CLASS:"using-keyboard",NOT_VISUALLY_HIDDEN_CLASS:":not(.is-visually-hidden)"},d="keydown",u="click",_="undefined"!=typeof window,v=function(t,e,i){return!1===i?t.removeAttribute(e):"string"==typeof i||null===i?t.setAttribute(e,i):t.getAttribute(e)},f=function(t,e){return t.hasAttribute(e)},p=function(t,e){return(1<arguments.length&&void 0!==e?e:document).querySelector(t)},w=function(t,e){return o((1<arguments.length&&void 0!==e?e:document).querySelectorAll(t))},y=function(t,e,i){return"string"==typeof i||null===i?t.style[e]=i:t.style[e]},A=function(t){for(var e,i=arguments.length,n=new Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return(e=t.classList).add.apply(e,n)},g=function(t){for(var e,i=arguments.length,n=new Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return(e=t.classList).remove.apply(e,n)},E=function(e){for(var t=arguments.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return i.length?i.filter(function(t){return e.classList.contains(t)}).length:e.classList.contains(i[0])},C=/(iphone|ipod|ipad)/i.test(navigator.userAgent),b=(i(m,[{key:"captureFocus",value:function(t,e){_&&(this._focusContainerSelector=t,this._focusableChildren=l(this._focusContainerSelector),this._focusableFirstChild=this._focusableChildren[0],this._focusableLastChild=this._focusableChildren[this._focusableChildren.length-1],e?e.useArrows&&(this._trapFocusWithArrows=e.useArrows||this._trapFocusWithArrows,document.addEventListener(d,this._handleFocusTrapWithArrows)):document.addEventListener(d,this._handleFocusTrapWithTab))}},{key:"releaseFocus",value:function(){_&&(this._trapFocusWithArrows?(document.removeEventListener(d,this._handleFocusTrapWithArrows),this._trapFocusWithArrows=!1):document.removeEventListener(d,this._handleFocusTrapWithTab))}},{key:"enableFocusOutline",value:function(){_&&document.addEventListener(d,this._listenForKeyboard)}},{key:"disableFocusOutline",value:function(){_&&(this._listeningForKeydown?document.removeEventListener(d,this._listenForKeyboard):(document.body.classList.remove(r.KEYBOARD_CLASS),document.removeEventListener(u,this._listenForClick)))}},{key:"_listenForKeyboard",value:function(){document.body.classList.add(r.KEYBOARD_CLASS),document.removeEventListener(d,this._listenForKeyboard),document.addEventListener(u,this._listenForClick),this._listeningForKeydown=!1}},{key:"_listenForClick",value:function(){document.body.classList.remove(r.KEYBOARD_CLASS),document.removeEventListener(u,this._listenForClick),document.addEventListener(d,this._listenForKeyboard),this._listeningForKeydown=!0}},{key:"_handleFocusTrapWithTab",value:function(t){var e=p(this._focusContainerSelector),i=document.activeElement===e,n=document.activeElement===this._focusableFirstChild,o=document.activeElement===this._focusableLastChild,a=t.which===h,s=t.which===c||t.shiftKey,r=!s&&a;s&&a&&(n||i)?(t.preventDefault(),this._focusableLastChild.focus()):r&&o&&(t.preventDefault(),this._focusableFirstChild.focus())}},{key:"_handleFocusTrapWithArrows",value:function(t){var e=document.activeElement===this._focusableFirstChild,i=document.activeElement===this._focusableLastChild,n=t.which===a,o=t.which===s;(n||o)&&(t.preventDefault(),e&&n?this._focusableLastChild.focus():i&&o?this._focusableFirstChild.focus():o?this._focusNextChild():n&&this._focusLastChild())}},{key:"_focusNextChild",value:function(){for(var t=0;t<this._focusableChildren.length;t++)if(this._focusableChildren[t]===document.activeElement){this._focusableChildren[t+1].focus();break}}},{key:"_focusLastChild",value:function(){for(var t=0;t<this._focusableChildren.length;t++)if(this._focusableChildren[t]===document.activeElement){this._focusableChildren[t-1].focus();break}}}]),m);function m(){e(this,m),this._listenForKeyboard=this._listenForKeyboard.bind(this),this._listenForClick=this._listenForClick.bind(this),this._handleFocusTrapWithTab=this._handleFocusTrapWithTab.bind(this),this._handleFocusTrapWithArrows=this._handleFocusTrapWithArrows.bind(this),this._focusContainerSelector="",this._focusableChildren=[],this._focusableFirstChild={},this._focusableLastChild={},this._listeningForKeydown=!1,this._trapFocusWithArrows=!1}var k="data-accordion",D="data-accordion-row",L="data-visible",T="data-target",O="data-toggle-multiple",S="data-parent",B="aria-expanded",R="aria-controls",M="aria-hidden",F="aria-labelledby",I="tabindex",P="click",x=function(t){return"Could not find accordion row with [data-visible] attribute associated with [data-target='".concat(t,"'].")},K=function(t){return"Could not find [data-accordion-row] associated with [data-target='".concat(t,"'].")},W=function(t){return"Could not find an id on your header associated with ".concat(t,".")},N=function(t){return"Could not find [data-accordion] attribute associated with [data-target='".concat(t,"'].")},H=function(t){return"Could not find accordion content block with id '".concat(t,"'; should match trigger with [data-target='").concat(t,"'].")},V=(i(U,[{key:"start",value:function(){var e=this;if(_){var t=this._getAccordionButtonSelector("[".concat(k,"]"));this._accordionButtons=w(t),this._accordionButtons.length&&this._accordionButtons.forEach(function(t){e._setup(t),t.addEventListener(P,e._render)})}}},{key:"stop",value:function(){var e=this;_&&this._accordionButtons.forEach(function(t){t.removeEventListener(P,e._render)})}},{key:"_setup",value:function(t){var e=v(t,T),i=v(t,S),n=p("#".concat(e));if(!i)throw new Error(N(e));if(!n)throw new Error(H(e));var o=this._getAccordionRowAttr(e),a=p(o);if(!a)throw new Error(K(e));var s=t.id;if(!s)throw new Error(W(o));var r=l("#".concat(n.id));v(t,R,e),v(n,F,s);var c=v(a,L);if(!c)throw new Error(x(e));"true"===c?(y(n,"maxHeight","".concat(n.scrollHeight,"px")),v(t,B,"true"),v(n,M,"false"),r.forEach(function(t){v(t,I,"0")})):(v(t,B,"false"),v(n,M,"true"),r.forEach(function(t){v(t,I,"-1")}))}},{key:"_render",value:function(t){t.preventDefault(),this._activeButton=t.target,this._setIds(),this._setActiveRow(),this._setActiveContainer(),this._setActiveContent(),this._setVisibleState(),f(this._activeContainer,O)||this._closeAllIfToggleable(),this._toggleSelectedAccordion(),this._activeRow=null,this._activeButton=null,this._activeContent=null,this._activeContainer=null}},{key:"_setActiveContent",value:function(){this._activeContent=p("#".concat(this._activeAccordionRowId))}},{key:"_setVisibleState",value:function(){var t=v(this._activeRow,L);this._nextButtonExpandState="true"===t?"false":"true",this._nextContentHiddenState="false"===this._nextButtonExpandState?"true":"false"}},{key:"_setIds",value:function(){this._activeContainerId=v(this._activeButton,S),this._activeAccordionRowId=v(this._activeButton,T)}},{key:"_setActiveContainer",value:function(){this._activeContainerAttr="[".concat(k,"='").concat(this._activeContainerId,"']"),this._activeContainer=p(this._activeContainerAttr)}},{key:"_setActiveRow",value:function(){this._activeRowAttr=this._getAccordionRowAttr(this._activeAccordionRowId),this._activeRow=p(this._activeRowAttr)}},{key:"_getAccordionButtonSelector",value:function(e){return this._headers.map(function(t){return"".concat(e," > [").concat(D,"] > ").concat(t," [").concat(T,"]")}).join(", ")}},{key:"_getAccordionRowAttr",value:function(t){return"[".concat(D,"='").concat(t,"']")}},{key:"_closeAllIfToggleable",value:function(){var e=this,t="".concat(this._activeContainerAttr," > [").concat(D,"] > [").concat(M,"]"),i=w(t),n=this._getAccordionButtonSelector(this._activeContainerAttr),o=w(n),a=w("".concat(this._activeContainerAttr," > [").concat(D,"]"));i.filter(function(t){return t!==e._activeContent}).forEach(function(t){return y(t,"maxHeight",null)}),l(t).forEach(function(t){t.setAttribute(I,"-1")}),this._toggleAttributeInCollection(a,L,"false"),this._toggleAttributeInCollection(o,B,"false"),this._toggleAttributeInCollection(i,M,"true")}},{key:"_toggleSelectedAccordion",value:function(){var i=this;v(this._activeRow,L,this._nextButtonExpandState),v(this._activeButton,B,this._nextButtonExpandState),v(this._activeContent,M,this._nextContentHiddenState),l("#".concat(this._activeAccordionRowId)).forEach(function(t){var e="true"===i._nextButtonExpandState?"0":"-1";v(t,I,e)}),y(this._activeContent,"maxHeight")?y(this._activeContent,"maxHeight",null):y(this._activeContent,"maxHeight","".concat(this._activeContent.scrollHeight,"px"))}},{key:"_toggleAttributeInCollection",value:function(t,e,i){t.forEach(function(t){return v(t,e,i)})}}]),U);function U(){e(this,U),this._render=this._render.bind(this),this._accordionButtons=[],this._accordionContentsAttr="",this._accordionContents=[],this._activeContainer={},this._activeButton={},this._activeAccordionRowId="",this._activeRowAttr="",this._activeRow="",this._activeContainerId="",this._activeContainerAttr="",this._activeContent={},this._activeButtonExpandState="",this._activeContentHiddenState="",this._headers=["h1","h2","h3","h4","h5","h6"]}var X=new b,j=9,Y=16,G=27,q=38,z=40,J={DATA_DROPDOWN:"data-dropdown",DATA_TARGET:"data-target",DATA_PARENT:"data-parent",DATA_VISIBLE:"data-visible",TABINDEX:"tabindex",ARIA_HASPOPUP:"aria-haspopup",ARIA_CONTROLS:"aria-controls",ARIA_LABELLEDBY:"aria-labelledby",ARIA_EXPANDED:"aria-expanded",ROLE:"role"},Q="keydown",Z="click",$="Could not setup dropdown. Make sure it has a valid [data-dropdown] attribute with a unique id as its value.",tt=function(t){return"Could not find menu associated with ".concat(t,".")},et=function(t){return"Could not find any list items associated with ".concat(t,".")},it=function(t){return"Could not find any button or anchor elements associated with ".concat(t,".")},nt="Could not find dropdown button's [data-parent] attribute.",ot=(i(at,[{key:"start",value:function(){var e=this;_&&(this._dropdowns=w("".concat(this._dropdownContainerAttr)),this._dropdownButtons=w("".concat(this._dropdownContainerAttr," > ").concat(this._dropdownTargetAttr)),this._dropdowns.length&&this._dropdowns.forEach(function(t){return e._setup(t)}),this._dropdownButtons.forEach(function(t){t.addEventListener(Z,e._render),t.addEventListener(Q,e._renderWithKeys)}))}},{key:"stop",value:function(){var e=this;_&&this._dropdownButtons.forEach(function(t){t.removeEventListener(Z,e._render),t.removeEventListener(Q,e._renderWithKeys)})}},{key:"_setup",value:function(t){var e=t.getAttribute(J.DATA_DROPDOWN);if(!e)throw new Error($);var i="[".concat(J.DATA_DROPDOWN,'="').concat(e,'"]'),n=p("".concat(i," > ").concat(this._dropdownTargetAttr));if(!v(n,J.DATA_PARENT))throw new Error(nt);var o=p("".concat(i," > ul"));if(!o)throw new Error(tt(i));v(o,J.ARIA_LABELLEDBY,n.id),v(n,J.ARIA_CONTROLS,o.id),v(n,J.ARIA_HASPOPUP,"true"),v(n,J.ARIA_EXPANDED,"false");var a="".concat(i," > ul > li"),s=w(a);if(!s.length)throw new Error(et(i));s.forEach(function(t){return v(t,J.ROLE,"none")});var r=this._getDropdownLinks(i);if(!r.length)throw new Error(it(i));r.forEach(function(t){v(t,J.ROLE,"menuitem"),v(t,J.TABINDEX,"-1")})}},{key:"_render",value:function(t,e){t.preventDefault(),t.stopPropagation(),this._handleOpenDropdown(t),this._activeDropdownButton=t.target,this._setActiveDropdownId(),this._setActiveDropdown(),this._setActiveDropdownMenu(),this._setVisibleState(),this._listenToClose(),this._startEvents(),e&&e===q?this._lastDropdownLink.focus():this._firstDropdownLink.focus(),C&&y(document.body,"cursor","pointer")}},{key:"_handleClose",value:function(t){t.preventDefault(),C&&y(document.body,"cursor","auto"),X.releaseFocus(),this._handleHideState(),this._listenToRender(),this._stopEvents(),this._allowFocusReturn&&this._handleReturnFocus(),this._activeDropdownButton=null,this._activeDropdownId=null,this._activeDropdown=null}},{key:"_listenToRender",value:function(){this._activeDropdownButton.removeEventListener(Z,this._handleClose),this._activeDropdownButton.addEventListener(Z,this._render)}},{key:"_handleHideState",value:function(){var e=this;v(this._activeDropdownButton,J.ARIA_EXPANDED,"false"),v(this._activeDropdown,J.DATA_VISIBLE,"false"),this._activeDropdownLinks.forEach(function(t){v(t,J.TABINDEX,"-1"),t.removeEventListener(Z,e._handleClose)})}},{key:"_stopEvents",value:function(){document.removeEventListener(Q,this._handleEscapeKeyPress),document.removeEventListener(Z,this._handleOffMenuClick)}},{key:"_setActiveDropdownId",value:function(){this._activeDropdownId=v(this._activeDropdownButton,J.DATA_PARENT)}},{key:"_startEvents",value:function(){var e=this;document.addEventListener(Q,this._handleEscapeKeyPress),document.addEventListener(Z,this._handleOffMenuClick),this._activeDropdownLinks=this._getDropdownLinks(this._activeDropdownAttr),this._firstDropdownLink=this._activeDropdownLinks[0],this._lastDropdownLink=this._activeDropdownLinks[this._activeDropdownLinks.length-1],this._firstDropdownLink.addEventListener(Q,this._handleFirstTabClose),this._lastDropdownLink.addEventListener(Q,this._handleLastTabClose),this._activeDropdownLinks.forEach(function(t){v(t,J.TABINDEX,"0"),t.addEventListener(Z,e._handleClose)}),X.captureFocus("".concat(this._activeDropdownAttr," > ul"),{useArrows:!0})}},{key:"_listenToClose",value:function(){this._activeDropdownButton.removeEventListener(Z,this._render),this._activeDropdownButton.addEventListener(Z,this._handleClose)}},{key:"_setVisibleState",value:function(){v(this._activeDropdownButton,J.ARIA_EXPANDED,"true"),v(this._activeDropdown,J.DATA_VISIBLE,"true")}},{key:"_setActiveDropdownMenu",value:function(){this._activeDropdownMenuId=v(this._activeDropdownButton,J.DATA_TARGET),this._activeDropdownMenu=p("#".concat(this._activeDropdownMenuId))}},{key:"_setActiveDropdown",value:function(){this._activeDropdownAttr="[".concat(J.DATA_DROPDOWN,'="').concat(this._activeDropdownId,'"]'),this._activeDropdown=p(this._activeDropdownAttr)}},{key:"_handleOpenDropdown",value:function(t){this._activeDropdownButton&&(this._allowFocusReturn=!1,this._handleClose(t),this._allowFocusReturn=!0)}},{key:"_handleFirstTabClose",value:function(t){var e=t.which===Y||t.shiftKey,i=t.which===j;e&&i&&this._handleClose(t)}},{key:"_handleLastTabClose",value:function(t){var e=t.which===Y||t.shiftKey;t.which!==j||e||this._handleClose(t)}},{key:"_renderWithKeys",value:function(t){t.which!==q&&t.which!==z||this._render(t,t.which)}},{key:"_handleEscapeKeyPress",value:function(t){t.which===G&&this._handleClose(t)}},{key:"_handleOffMenuClick",value:function(t){t.target!==this._activeDropdownButton&&t.target!==this._activeDropdownMenu&&this._handleClose(t)}},{key:"_handleReturnFocus",value:function(){v(this._activeDropdownButton,J.TAB_INDEX,"-1"),this._activeDropdownButton.focus(),v(this._activeDropdownButton,J.TAB_INDEX,!1)}},{key:"_getDropdownLinks",value:function(t){return w("".concat(t," > ul > li > a, ").concat(t," > ul > li > button"))}}]),at);function at(){e(this,at),this._render=this._render.bind(this),this._handleFirstTabClose=this._handleFirstTabClose.bind(this),this._handleLastTabClose=this._handleLastTabClose.bind(this),this._renderWithKeys=this._renderWithKeys.bind(this),this._handleClose=this._handleClose.bind(this),this._handleEscapeKeyPress=this._handleEscapeKeyPress.bind(this),this._handleOffMenuClick=this._handleOffMenuClick.bind(this),this._activeDropdown={},this._activeDropdownButton=null,this._activeDropdownMenu={},this._activeDropdownLinks=[],this._allowFocusReturn=!0,this._activeDropdownId="",this._activeDropdownAttr="",this._activeDropdownMenuId="",this._firstDropdownLink={},this._lastDropdownLink={},this._dropdownButtons=[],this._dropdowns=[],this._dropdownContainerAttr="[".concat(J.DATA_DROPDOWN,"]"),this._dropdownTargetAttr="[".concat(J.DATA_TARGET,"]")}var st=new b,rt=27,ct="data-modal",lt="data-target",ht="data-visible",dt="data-close",ut="data-parent",_t="aria-hidden",vt="aria-modal",ft="role",pt="tabindex",wt="no-scroll",yt="keydown",At="click",gt=function(t){return"Could not find modal trigger with id ".concat(t,".")},Et="Could not detect an id on your [data-modal] element. Please add a value matching the modal trigger's [data-parent] attribute.",Ct=function(t){return"Could not find a [data-parent='".concat(t,"'] attribute within your [data-modal='").concat(t,"'] element.")},bt=(i(mt,[{key:"start",value:function(){var e=this;_&&(this._modals=w(this._modalContainerAttr),l(this._modalContainerAttr).forEach(function(t){v(t,pt,"-1")}),this._modals.length&&this._modals.forEach(function(t){e._setup(t)}))}},{key:"stop",value:function(){var n=this;_&&this._modals.forEach(function(t){var e=v(t,ct),i=p("[".concat(lt,"='").concat(e,"']"));if(!i)throw new Error(gt(e));i.removeEventListener(At,n._render)})}},{key:"_setup",value:function(t){var e=v(t,ct);if(!e)throw new Error(Et);var i=p("[".concat(ut,"='").concat(e,"']"),t);if(!i)throw new Error(Ct(e));var n=p("[".concat(ct,"='").concat(e,"']"));v(n,_t,"true"),v(n,ht,"false"),v(i,vt,"true"),v(i,ft,"dialog");var o=p("[".concat(lt,"='").concat(e,"']"));if(!o)throw new Error(gt(e));o.addEventListener(At,this._render)}},{key:"_render",value:function(t){t.preventDefault(),this._activeModalButton=t.target,this._setActiveModalId(),this._setActiveModalOverlay(),this._setActiveModal(),this._enableFocusOnChildren(),this._handleScrollbarOffset(),this._handleScrollStop(),st.captureFocus(this._activeModalSelector),this._setAttributes(),this._setCloseButtons(),this._handleModalFocus(),this._activeModalOverlay.scrollTop=0,this._startEvents()}},{key:"_handleClose",value:function(t){t.preventDefault(),this._stopEvents(),this._handleReturnFocus(),this._removeAttributes(),st.releaseFocus(),this._handleScrollRestore(),this._removeScrollbarOffset(),this._disableFocusOnChildren(),C&&y(this._activeModalOverlay,"cursor","auto"),this._activeModalId=null,this._activeModalButton=null,this._activeModal=null}},{key:"_setCloseButtons",value:function(){this._activeModalCloseButtons=w("".concat(this._activeModalSelector," [").concat(dt,"]"))}},{key:"_setActiveModalId",value:function(){this._activeModalId=v(this._activeModalButton,lt)}},{key:"_setActiveModalOverlay",value:function(){this._activeModalOverlay=p("[".concat(ct,"='").concat(this._activeModalId,"']"))}},{key:"_removeAttributes",value:function(){v(this._activeModalOverlay,ht,"false"),v(this._activeModalOverlay,_t,"true"),v(this._activeModal,pt,!1)}},{key:"_disableFocusOnChildren",value:function(){l(this._activeModalSelector).forEach(function(t){v(t,pt,"-1")})}},{key:"_stopEvents",value:function(){var e=this;document.removeEventListener(yt,this._handleEscapeKeyPress),document.removeEventListener(At,this._handleOverlayClick),this._activeModalCloseButtons.forEach(function(t){t.removeEventListener(At,e._handleClose)})}},{key:"_setActiveModal",value:function(){this._activeModalSelector="[".concat(ut,"='").concat(this._activeModalId,"']"),this._activeModal=p(this._activeModalSelector,this._activeModalOverlay)}},{key:"_setAttributes",value:function(){v(this._activeModalOverlay,_t,"false"),v(this._activeModalOverlay,ht,"true"),C&&y(this._activeModalOverlay,"cursor","pointer")}},{key:"_startEvents",value:function(){var e=this;document.addEventListener(yt,this._handleEscapeKeyPress),document.addEventListener(At,this._handleOverlayClick),this._activeModalCloseButtons.forEach(function(t){t.addEventListener(At,e._handleClose)})}},{key:"_handleModalFocus",value:function(){v(this._activeModal,pt,"-1"),this._activeModal.focus()}},{key:"_enableFocusOnChildren",value:function(){l(this._activeModalSelector).forEach(function(t){t.setAttribute(pt,"0")})}},{key:"_getScrollbarOffset",value:function(){return window.innerWidth-document.body.getBoundingClientRect().right}},{key:"_handleScrollbarOffset",value:function(){this._scrollbarIsVisible()&&(this._scrollbarOffset=this._getScrollbarOffset(),this._originalPagePaddingRight=y(document.body,"paddingRight"),y(document.body,"paddingRight","".concat(this._scrollbarOffset,"px")))}},{key:"_scrollbarIsVisible",value:function(){if("number"==typeof window.innerWidth)return window.innerWidth>document.body.getBoundingClientRect().right}},{key:"_removeScrollbarOffset",value:function(){var t=this,e=this._originalPagePaddingRight;y(this._activeModalOverlay,"paddingLeft","".concat(this._scrollbarOffset,"px")),setTimeout(function(){return y(t._activeModalOverlay,"paddingLeft","")},500),y(document.body,"paddingRight",e?"".concat(e,"px"):"")}},{key:"_handleOverlayClick",value:function(t){t.target===this._activeModalOverlay&&this._handleClose(t)}},{key:"_handleEscapeKeyPress",value:function(t){t.which===rt&&this._handleClose(t)}},{key:"_handleReturnFocus",value:function(){v(this._activeModalButton,pt,"-1"),this._activeModalButton.focus(),v(this._activeModalButton,pt,!1)}},{key:"_handleScrollRestore",value:function(){g(document.body,wt),g(document.documentElement,wt)}},{key:"_handleScrollStop",value:function(){A(document.body,wt),A(document.documentElement,wt)}}]),mt);function mt(){e(this,mt),this._render=this._render.bind(this),this._handleClose=this._handleClose.bind(this),this._handleOverlayClick=this._handleOverlayClick.bind(this),this._handleEscapeKeyPress=this._handleEscapeKeyPress.bind(this),this._modals=[],this._modalButtons=[],this._activeModalButton={},this._activeModalOverlay={},this._activeModal={},this._activeModalId="",this._activeModalSelector="",this._activeModalCloseButtons=[],this._originalPagePaddingRight="",this._scrollbarOffset=0,this._modalContainerAttr="[".concat(ct,"]")}var kt=27,Dt="data-tooltip",Lt="data-visible",Tt="data-target",Ot="role",St="aria-describedby",Bt="is-drop-left",Rt="is-drop-right",Mt="mouseover",Ft="mouseout",It="focus",Pt="blur",xt="keydown",Kt="Could not find your tooltip's id.",Wt=function(t){return"Could not find a tooltip trigger with id of ".concat(t,".")},Nt=function(t){return"Could not find a tooltip with id of ".concat(t,".")},Ht=(i(Vt,[{key:"start",value:function(){var e=this;_&&(this._allTooltips=w("[".concat(Dt,"]")),this._allTooltips.forEach(function(t){e._setup(t)}))}},{key:"stop",value:function(){var n=this;_&&this._allTooltips.forEach(function(t){var e=v(t,Dt),i=p(n._getTrigger(e),t);(n._activeTooltip||n._activeTrigger)&&n._handleClose(),i.removeEventListener(Mt,n._render),i.removeEventListener(It,n._render)})}},{key:"_setup",value:function(t){var e=v(t,Dt);if(!e)throw new Error(Kt);var i=p(this._getTrigger(e),t),n=p("#".concat(e),t);if(!i)throw new Error(Wt(e));if(!n)throw new Error(Nt(e));v(i,St,e),v(n,Ot,"tooltip"),i.addEventListener(Mt,this._render),i.addEventListener(It,this._render)}},{key:"_render",value:function(t){this._activeTrigger=t.target;var e=this._activeTrigger.getAttribute(Tt);this._activeTooltip=document.getElementById(e),this._isLeftOrRight()?this._alignTooltip("height"):this._alignTooltip("width"),this._setVisibleState(),this._startCloseEvents()}},{key:"_handleClose",value:function(){this._setHideState(),this._startOpenEvents(),this._activeTrigger=null,this._activeTooltip=null}},{key:"_setVisibleState",value:function(){v(this._activeTooltip,Lt,"true")}},{key:"_setHideState",value:function(){v(this._activeTooltip,Lt,"false")}},{key:"_startCloseEvents",value:function(){this._activeTrigger.removeEventListener(Mt,this._render),this._activeTrigger.removeEventListener(It,this._render),this._activeTrigger.addEventListener(Ft,this._handleClose),this._activeTrigger.addEventListener(Pt,this._handleClose),document.addEventListener(xt,this._handleEscapeKeyPress),C&&y(document.body,"cursor","pointer")}},{key:"_handleEscapeKeyPress",value:function(t){t.which===kt&&this._handleClose()}},{key:"_startOpenEvents",value:function(){this._activeTrigger.removeEventListener(Ft,this._handleClose),this._activeTrigger.removeEventListener(Pt,this._handleClose),this._activeTrigger.addEventListener(Mt,this._render),this._activeTrigger.addEventListener(It,this._render),document.removeEventListener(xt,this._handleEscapeKeyPress),C&&y(document.body,"cursor","auto")}},{key:"_alignTooltip",value:function(t){var e=this._getSize(this._activeTrigger,t),i=this._getSize(this._activeTooltip,t),n=i<e?(e-i)/2:(i-e)/-2;y(this._activeTooltip,"height"===t?"top":"left","".concat(n,"px"))}},{key:"_getTrigger",value:function(t){return"[".concat(Tt,'="').concat(t,'"]')}},{key:"_getSize",value:function(t,e){return Math.floor(t.getBoundingClientRect()[e])}},{key:"_isLeftOrRight",value:function(){return E(this._activeTooltip,Bt,Rt)}}]),Vt);function Vt(){e(this,Vt),this._render=this._render.bind(this),this._handleClose=this._handleClose.bind(this),this._handleEscapeKeyPress=this._handleEscapeKeyPress.bind(this),this._activeTrigger=null,this._activeTooltip=null,this._allTooltips=[]}var Ut=new V,Xt=new ot,jt=new bt,Yt=new Ht,Gt=new b,Undernet={Modals:jt,Accordions:Ut,Dropdowns:Xt,Tooltips:Yt,ContextUtil:Gt,start:function(){Undernet.Modals.start(),Undernet.Accordions.start(),Undernet.Dropdowns.start(),Undernet.Tooltips.start(),Gt.enableFocusOutline()},stop:function(){Undernet.Modals.stop(),Undernet.Accordions.stop(),Undernet.Dropdowns.stop(),Undernet.Tooltips.stop(),Gt.disableFocusOutline()}};_&&(window.Undernet=Undernet),t.Accordions=Ut,t.ContextUtil=Gt,t.Dropdowns=Xt,t.Modals=jt,t.Tooltips=Yt,t.Undernet=Undernet,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=undernet.bundle.min.js.map
