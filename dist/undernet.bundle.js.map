{"version":3,"file":"undernet.bundle.js","sources":["../src/js/utils.js","../src/js/accordion.js","../src/js/dropdown.js","../src/js/modal.js","../src/js/tooltip.js","../src/js/index.js","../src/js/index.bundle.js"],"sourcesContent":["const KeyCodes = {\n  SHIFT: 16,\n  TAB: 9,\n  ARROW_UP: 38,\n  ARROW_DOWN: 40,\n}\n\nconst Selectors = {\n  FOCUSABLE_TAGS: [\"a\", \"button\", \"input\", \"object\", \"select\", \"textarea\", \"[tabindex]\"],\n  KEYBOARD_CLASS: \"using-keyboard\",\n  NOT_VISUALLY_HIDDEN_CLASS: \":not(.is-visually-hidden)\",\n}\n\nconst Events = {\n  KEYDOWN: \"keydown\",\n  CLICK: \"click\",\n}\n\n/**\n * Check if window exists. If it doesn't, we're probably in a node environment.\n */\nexport const browserEnv = typeof window !== \"undefined\"\n\n/**\n * Simple DOM manipulator methods. NOTE: These aren't chainable.\n */\nexport const dom = {\n  attr: (element, attr, newValue) => {\n    if (newValue === false) {\n      return element.removeAttribute(attr)\n    }\n\n    if (typeof newValue === \"string\" || newValue === null) {\n      return element.setAttribute(attr, newValue)\n    }\n\n    return element.getAttribute(attr)\n  },\n  hasAttr: (element, attr) => element.hasAttribute(attr),\n\n  find: (selector, parent = document) => parent.querySelector(selector),\n  findAll: (selector, parent = document) => [...parent.querySelectorAll(selector)],\n\n  css: (element, property, value) => {\n    if (typeof value === \"string\" || value === null) {\n      return (element.style[property] = value)\n    }\n\n    return element.style[property]\n  },\n\n  addClass: (element, ...classes) => element.classList.add(...classes),\n  removeClass: (element, ...classes) => element.classList.remove(...classes),\n  hasClass: (element, ...classes) => {\n    if (classes.length) {\n      return classes.filter(cls => element.classList.contains(cls)).length\n    }\n\n    return element.classList.contains(classes[0])\n  },\n}\n\n/**\n * Return an array literal of elements matching focusable elements within a given container.\n */\nexport const getFocusableElements = container => {\n  const focusables = Selectors.FOCUSABLE_TAGS.map(\n    element => `${container} ${element}${Selectors.NOT_VISUALLY_HIDDEN_CLASS}`\n  ).join(\", \")\n\n  return dom.findAll(focusables)\n}\n\n/**\n * Check if the current browser session is within an Apple device.\n */\nexport const iOSMobile = /(iphone|ipod|ipad)/i.test(navigator.userAgent)\n\n/**\n * Utility class to help with focus trapping and keyboard outline management.\n */\nexport default class ContextUtil {\n  constructor() {\n    // events\n    this._listenForKeyboard = this._listenForKeyboard.bind(this)\n    this._listenForClick = this._listenForClick.bind(this)\n    this._handleFocusTrapWithTab = this._handleFocusTrapWithTab.bind(this)\n    this._handleFocusTrapWithArrows = this._handleFocusTrapWithArrows.bind(this)\n\n    // instance data\n    this._focusContainerSelector = \"\"\n    this._focusableChildren = []\n    this._focusableFirstChild = {}\n    this._focusableLastChild = {}\n    this._listeningForKeydown = false\n    this._trapFocusWithArrows = false\n  }\n\n  // public\n\n  captureFocus(container, options) {\n    if (!browserEnv) return\n\n    this._focusContainerSelector = container\n    this._focusableChildren = getFocusableElements(this._focusContainerSelector)\n    this._focusableFirstChild = this._focusableChildren[0]\n    this._focusableLastChild = this._focusableChildren[this._focusableChildren.length - 1]\n\n    if (options) {\n      if (options.useArrows) {\n        this._trapFocusWithArrows = options.useArrows || this._trapFocusWithArrows\n        document.addEventListener(Events.KEYDOWN, this._handleFocusTrapWithArrows)\n      }\n    } else {\n      document.addEventListener(Events.KEYDOWN, this._handleFocusTrapWithTab)\n    }\n  }\n\n  releaseFocus() {\n    if (!browserEnv) return\n\n    if (this._trapFocusWithArrows) {\n      document.removeEventListener(Events.KEYDOWN, this._handleFocusTrapWithArrows)\n      this._trapFocusWithArrows = false\n    } else {\n      document.removeEventListener(Events.KEYDOWN, this._handleFocusTrapWithTab)\n    }\n  }\n\n  enableFocusOutline() {\n    if (!browserEnv) return\n    document.addEventListener(Events.KEYDOWN, this._listenForKeyboard)\n  }\n\n  disableFocusOutline() {\n    if (!browserEnv) return\n\n    if (this._listeningForKeydown) {\n      document.removeEventListener(Events.KEYDOWN, this._listenForKeyboard)\n    } else {\n      document.body.classList.remove(Selectors.KEYBOARD_CLASS)\n      document.removeEventListener(Events.CLICK, this._listenForClick)\n    }\n  }\n\n  // private\n\n  _listenForKeyboard() {\n    document.body.classList.add(Selectors.KEYBOARD_CLASS)\n    document.removeEventListener(Events.KEYDOWN, this._listenForKeyboard)\n    document.addEventListener(Events.CLICK, this._listenForClick)\n    this._listeningForKeydown = false\n  }\n\n  _listenForClick() {\n    document.body.classList.remove(Selectors.KEYBOARD_CLASS)\n    document.removeEventListener(Events.CLICK, this._listenForClick)\n    document.addEventListener(Events.KEYDOWN, this._listenForKeyboard)\n    this._listeningForKeydown = true\n  }\n\n  _handleFocusTrapWithTab(event) {\n    const containerElement = dom.find(this._focusContainerSelector)\n    const containerActive = document.activeElement === containerElement\n    const firstActive = document.activeElement === this._focusableFirstChild\n    const lastActive = document.activeElement === this._focusableLastChild\n    const tabKey = event.which === KeyCodes.TAB\n    const shiftKey = event.which === KeyCodes.SHIFT || event.shiftKey\n    const hasShift = shiftKey && tabKey\n    const noShift = !shiftKey && tabKey\n\n    if (hasShift && (firstActive || containerActive)) {\n      event.preventDefault()\n      this._focusableLastChild.focus()\n    } else if (noShift && lastActive) {\n      event.preventDefault()\n      this._focusableFirstChild.focus()\n    }\n  }\n\n  _handleFocusTrapWithArrows(event) {\n    const firstActive = document.activeElement === this._focusableFirstChild\n    const lastActive = document.activeElement === this._focusableLastChild\n    const arrowUp = event.which === KeyCodes.ARROW_UP\n    const arrowDown = event.which === KeyCodes.ARROW_DOWN\n\n    if (arrowUp || arrowDown) {\n      event.preventDefault()\n\n      if (firstActive && arrowUp) {\n        this._focusableLastChild.focus()\n      } else if (lastActive && arrowDown) {\n        this._focusableFirstChild.focus()\n      } else if (arrowDown) {\n        this._focusNextChild()\n      } else if (arrowUp) {\n        this._focusLastChild()\n      }\n    }\n  }\n\n  _focusNextChild() {\n    for (let i = 0; i < this._focusableChildren.length; i++) {\n      if (this._focusableChildren[i] === document.activeElement) {\n        this._focusableChildren[i + 1].focus()\n        break\n      }\n    }\n  }\n\n  _focusLastChild() {\n    for (let i = 0; i < this._focusableChildren.length; i++) {\n      if (this._focusableChildren[i] === document.activeElement) {\n        this._focusableChildren[i - 1].focus()\n        break\n      }\n    }\n  }\n}\n","import { getFocusableElements, dom, browserEnv } from \"./utils\"\n\nconst Selectors = {\n  // unique\n  DATA_ACCORDION: \"data-accordion\",\n  DATA_ACCORDION_ROW: \"data-accordion-row\",\n  // common\n  DATA_VISIBLE: \"data-visible\",\n  DATA_TARGET: \"data-target\",\n  DATA_TOGGLE_MULTIPLE: \"data-toggle-multiple\",\n  DATA_PARENT: \"data-parent\",\n  // accessibility\n  ARIA_EXPANDED: \"aria-expanded\",\n  ARIA_CONTROLS: \"aria-controls\",\n  ARIA_HIDDEN: \"aria-hidden\",\n  ARIA_LABELLEDBY: \"aria-labelledby\",\n  TABINDEX: \"tabindex\",\n}\n\nconst Events = {\n  CLICK: \"click\",\n  KEYDOWN: \"keydown\",\n}\n\nconst Messages = {\n  NO_VISIBLE_ERROR: id =>\n    `Could not find accordion row with [data-visible] attribute associated with [data-target='${id}'].`,\n  NO_ROW_ERROR: id => `Could not find [data-accordion-row] associated with [data-target='${id}'].`,\n  NO_HEADER_ID_ERROR: attr => `Could not find an id on your header associated with ${attr}.`,\n  NO_ACCORDION_ID_ERROR: id =>\n    `Could not find [data-accordion] attribute associated with [data-target='${id}'].`,\n  NO_CONTENT_ERROR: id =>\n    `Could not find accordion content block with id '${id}'; should match trigger with [data-target='${id}'].`,\n}\n\nexport default class Accordion {\n  constructor() {\n    // events\n    this._render = this._render.bind(this)\n\n    // all accordions\n    this._accordionButtons = []\n    this._accordionContentsAttr = \"\"\n    this._accordionContents = []\n\n    // active accordion\n    this._activeContainer = {}\n    this._activeButton = {}\n    this._activeAccordionRowId = \"\"\n    this._activeRowAttr = \"\"\n    this._activeRow = \"\"\n    this._activeContainerId = \"\"\n    this._activeContainerAttr = \"\"\n    this._activeContent = {}\n    this._activeButtonExpandState = \"\"\n    this._activeContentHiddenState = \"\"\n\n    // other data\n    this._headers = [\"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"]\n  }\n\n  // public\n\n  start() {\n    if (!browserEnv) return\n\n    const accordionButtonSelector = this._getAccordionButtonSelector(\n      `[${Selectors.DATA_ACCORDION}]`\n    )\n    this._accordionButtons = dom.findAll(accordionButtonSelector)\n\n    if (this._accordionButtons.length) {\n      this._accordionButtons.forEach(instance => {\n        this._setup(instance)\n        instance.addEventListener(Events.CLICK, this._render)\n      })\n    }\n  }\n\n  stop() {\n    if (!browserEnv) return\n\n    this._accordionButtons.forEach(instance => {\n      instance.removeEventListener(Events.CLICK, this._render)\n    })\n  }\n\n  // private\n\n  _setup(instance) {\n    const buttonTargetId = dom.attr(instance, Selectors.DATA_TARGET)\n    const accordionId = dom.attr(instance, Selectors.DATA_PARENT)\n    const buttonContent = dom.find(`#${buttonTargetId}`)\n\n    if (!accordionId) {\n      throw new Error(Messages.NO_ACCORDION_ID_ERROR(buttonTargetId))\n    }\n\n    if (!buttonContent) {\n      throw new Error(Messages.NO_CONTENT_ERROR(buttonTargetId))\n    }\n\n    const accordionRowAttr = this._getAccordionRowAttr(buttonTargetId)\n    const accordionRow = dom.find(accordionRowAttr)\n\n    if (!accordionRow) {\n      throw new Error(Messages.NO_ROW_ERROR(buttonTargetId))\n    }\n\n    const buttonId = instance.id\n\n    if (!buttonId) {\n      throw new Error(Messages.NO_HEADER_ID_ERROR(accordionRowAttr))\n    }\n\n    const buttonContentChildren = getFocusableElements(`#${buttonContent.id}`)\n\n    dom.attr(instance, Selectors.ARIA_CONTROLS, buttonTargetId)\n    dom.attr(buttonContent, Selectors.ARIA_LABELLEDBY, buttonId)\n\n    const contentShouldExpand = dom.attr(accordionRow, Selectors.DATA_VISIBLE)\n\n    if (!contentShouldExpand) {\n      throw new Error(Messages.NO_VISIBLE_ERROR(buttonTargetId))\n    }\n\n    if (contentShouldExpand === \"true\") {\n      dom.css(buttonContent, \"maxHeight\", `${buttonContent.scrollHeight}px`)\n      dom.attr(instance, Selectors.ARIA_EXPANDED, \"true\")\n      dom.attr(buttonContent, Selectors.ARIA_HIDDEN, \"false\")\n\n      buttonContentChildren.forEach(element => {\n        dom.attr(element, Selectors.TABINDEX, \"0\")\n      })\n    } else {\n      dom.attr(instance, Selectors.ARIA_EXPANDED, \"false\")\n      dom.attr(buttonContent, Selectors.ARIA_HIDDEN, \"true\")\n\n      buttonContentChildren.forEach(element => {\n        dom.attr(element, Selectors.TABINDEX, \"-1\")\n      })\n    }\n  }\n\n  _render(event) {\n    event.preventDefault()\n\n    this._activeButton = event.target\n\n    this._setIds()\n    this._setActiveRow()\n    this._setActiveContainer()\n    this._setActiveContent()\n    this._setVisibleState()\n\n    const canExpandMultiple = dom.hasAttr(this._activeContainer, Selectors.DATA_TOGGLE_MULTIPLE)\n\n    if (!canExpandMultiple) this._closeAllIfToggleable()\n\n    this._toggleSelectedAccordion()\n\n    this._activeRow = null\n    this._activeButton = null\n    this._activeContent = null\n    this._activeContainer = null\n  }\n\n  _setActiveContent() {\n    this._activeContent = dom.find(`#${this._activeAccordionRowId}`)\n  }\n\n  _setVisibleState() {\n    const accordionButtonState = dom.attr(this._activeRow, Selectors.DATA_VISIBLE)\n    this._nextButtonExpandState = accordionButtonState === \"true\" ? \"false\" : \"true\"\n    this._nextContentHiddenState = this._nextButtonExpandState === \"false\" ? \"true\" : \"false\"\n  }\n\n  _setIds() {\n    this._activeContainerId = dom.attr(this._activeButton, Selectors.DATA_PARENT)\n    this._activeAccordionRowId = dom.attr(this._activeButton, Selectors.DATA_TARGET)\n  }\n\n  _setActiveContainer() {\n    this._activeContainerAttr = `[${Selectors.DATA_ACCORDION}='${this._activeContainerId}']`\n    this._activeContainer = dom.find(this._activeContainerAttr)\n  }\n\n  _setActiveRow() {\n    this._activeRowAttr = this._getAccordionRowAttr(this._activeAccordionRowId)\n    this._activeRow = dom.find(this._activeRowAttr)\n  }\n\n  _getAccordionButtonSelector(attr) {\n    return this._headers\n      .map(header => {\n        return `${attr} > [${Selectors.DATA_ACCORDION_ROW}] > ${header} [${Selectors.DATA_TARGET}]`\n      })\n      .join(\", \")\n  }\n\n  _getAccordionRowAttr(id) {\n    return `[${Selectors.DATA_ACCORDION_ROW}='${id}']`\n  }\n\n  _closeAllIfToggleable() {\n    const allContentAttr = `${this._activeContainerAttr} > [${Selectors.DATA_ACCORDION_ROW}] > [${Selectors.ARIA_HIDDEN}]`\n    const allContent = dom.findAll(allContentAttr)\n    const accordionButtonSelector = this._getAccordionButtonSelector(this._activeContainerAttr)\n    const allButtons = dom.findAll(accordionButtonSelector)\n    const allRows = dom.findAll(`${this._activeContainerAttr} > [${Selectors.DATA_ACCORDION_ROW}]`)\n\n    allContent\n      .filter(content => content !== this._activeContent)\n      .forEach(content => dom.css(content, \"maxHeight\", null))\n\n    getFocusableElements(allContentAttr).forEach(element => {\n      element.setAttribute(Selectors.TABINDEX, \"-1\")\n    })\n\n    this._toggleAttributeInCollection(allRows, Selectors.DATA_VISIBLE, \"false\")\n    this._toggleAttributeInCollection(allButtons, Selectors.ARIA_EXPANDED, \"false\")\n    this._toggleAttributeInCollection(allContent, Selectors.ARIA_HIDDEN, \"true\")\n  }\n\n  _toggleSelectedAccordion() {\n    dom.attr(this._activeRow, Selectors.DATA_VISIBLE, this._nextButtonExpandState)\n    dom.attr(this._activeButton, Selectors.ARIA_EXPANDED, this._nextButtonExpandState)\n    dom.attr(this._activeContent, Selectors.ARIA_HIDDEN, this._nextContentHiddenState)\n\n    getFocusableElements(`#${this._activeAccordionRowId}`).forEach(element => {\n      const value = this._nextButtonExpandState === \"true\" ? \"0\" : \"-1\"\n      dom.attr(element, Selectors.TABINDEX, value)\n    })\n\n    if (dom.css(this._activeContent, \"maxHeight\")) {\n      dom.css(this._activeContent, \"maxHeight\", null)\n    } else {\n      dom.css(this._activeContent, \"maxHeight\", `${this._activeContent.scrollHeight}px`)\n    }\n  }\n\n  _toggleAttributeInCollection(elements, attributeName, newValue) {\n    elements.forEach(element => dom.attr(element, attributeName, newValue))\n  }\n}\n","import _ContextUtil, { iOSMobile, dom, browserEnv } from \"./utils\"\n\nconst ContextUtil = new _ContextUtil()\n\nconst KeyCodes = {\n  TAB: 9,\n  SHIFT: 16,\n  ESCAPE: 27,\n  ARROW_UP: 38,\n  ARROW_DOWN: 40,\n}\n\nconst Selectors = {\n  // unique\n  DATA_DROPDOWN: \"data-dropdown\",\n  // common\n  DATA_TARGET: \"data-target\",\n  DATA_PARENT: \"data-parent\",\n  DATA_VISIBLE: \"data-visible\",\n  // accessibility\n  TABINDEX: \"tabindex\",\n  ARIA_HASPOPUP: \"aria-haspopup\",\n  ARIA_CONTROLS: \"aria-controls\",\n  ARIA_LABELLEDBY: \"aria-labelledby\",\n  ARIA_EXPANDED: \"aria-expanded\",\n  ROLE: \"role\",\n}\n\nconst Events = {\n  KEYDOWN: \"keydown\",\n  CLICK: \"click\",\n}\n\nconst Messages = {\n  NO_DROPDOWN_ID_ERROR:\n    \"Could not setup dropdown. Make sure it has a valid [data-dropdown] attribute with a unique id as its value.\",\n  NO_MENU_ERROR: attr => `Could not find menu associated with ${attr}.`,\n  NO_DROPDOWN_ITEMS_ERROR: attr => `Could not find any list items associated with ${attr}.`,\n  NO_DROPDOWN_BUTTONS_ERROR: attr =>\n    `Could not find any button or anchor elements associated with ${attr}.`,\n  NO_PARENT_ERROR: \"Could not find dropdown button's [data-parent] attribute.\",\n}\n\nexport default class Dropdown {\n  constructor() {\n    // events\n    this._render = this._render.bind(this)\n    this._handleFirstTabClose = this._handleFirstTabClose.bind(this)\n    this._handleLastTabClose = this._handleLastTabClose.bind(this)\n    this._renderWithKeys = this._renderWithKeys.bind(this)\n    this._handleClose = this._handleClose.bind(this)\n    this._handleEscapeKeyPress = this._handleEscapeKeyPress.bind(this)\n    this._handleOffMenuClick = this._handleOffMenuClick.bind(this)\n\n    // active dropdown\n    this._activeDropdown = {}\n    this._activeDropdownButton = null\n    this._activeDropdownMenu = {}\n    this._activeDropdownLinks = []\n    this._allowFocusReturn = true\n    this._activeDropdownId = \"\"\n    this._activeDropdownAttr = \"\"\n    this._activeDropdownMenuId = \"\"\n    this._firstDropdownLink = {}\n    this._lastDropdownLink = {}\n\n    // all dropdowns\n    this._dropdownButtons = []\n    this._dropdowns = []\n\n    // dropdown element selectors\n    this._dropdownContainerAttr = `[${Selectors.DATA_DROPDOWN}]`\n    this._dropdownTargetAttr = `[${Selectors.DATA_TARGET}]`\n  }\n\n  // public\n\n  start() {\n    if (!browserEnv) return\n\n    this._dropdowns = dom.findAll(`${this._dropdownContainerAttr}`)\n    this._dropdownButtons = dom.findAll(\n      `${this._dropdownContainerAttr} > ${this._dropdownTargetAttr}`\n    )\n\n    if (this._dropdowns.length) {\n      this._dropdowns.forEach(instance => this._setup(instance))\n    }\n\n    this._dropdownButtons.forEach(button => {\n      button.addEventListener(Events.CLICK, this._render)\n      button.addEventListener(Events.KEYDOWN, this._renderWithKeys)\n    })\n  }\n\n  stop() {\n    if (!browserEnv) return\n\n    this._dropdownButtons.forEach(button => {\n      button.removeEventListener(Events.CLICK, this._render)\n      button.removeEventListener(Events.KEYDOWN, this._renderWithKeys)\n    })\n  }\n\n  // private\n\n  _setup(instance) {\n    const dropdownId = instance.getAttribute(Selectors.DATA_DROPDOWN)\n\n    if (!dropdownId) {\n      throw new Error(Messages.NO_DROPDOWN_ID_ERROR)\n    }\n\n    const dropdownAttr = `[${Selectors.DATA_DROPDOWN}=\"${dropdownId}\"]`\n    const dropdownButton = dom.find(`${dropdownAttr} > ${this._dropdownTargetAttr}`)\n\n    if (!dom.attr(dropdownButton, Selectors.DATA_PARENT)) {\n      throw new Error(Messages.NO_PARENT_ERROR)\n    }\n\n    const dropdownMenu = dom.find(`${dropdownAttr} > ul`)\n\n    if (!dropdownMenu) {\n      throw new Error(Messages.NO_MENU_ERROR(dropdownAttr))\n    }\n\n    dom.attr(dropdownMenu, Selectors.ARIA_LABELLEDBY, dropdownButton.id)\n\n    dom.attr(dropdownButton, Selectors.ARIA_CONTROLS, dropdownMenu.id)\n    dom.attr(dropdownButton, Selectors.ARIA_HASPOPUP, \"true\")\n    dom.attr(dropdownButton, Selectors.ARIA_EXPANDED, \"false\")\n\n    const dropdownMenuItemsAttr = `${dropdownAttr} > ul > li`\n    const dropdownMenuListItems = dom.findAll(dropdownMenuItemsAttr)\n\n    if (!dropdownMenuListItems.length) {\n      throw new Error(Messages.NO_DROPDOWN_ITEMS_ERROR(dropdownAttr))\n    }\n\n    dropdownMenuListItems.forEach(item => dom.attr(item, Selectors.ROLE, \"none\"))\n\n    const dropdownMenuButtons = this._getDropdownLinks(dropdownAttr)\n\n    if (!dropdownMenuButtons.length) {\n      throw new Error(Messages.NO_DROPDOWN_BUTTONS_ERROR(dropdownAttr))\n    }\n\n    dropdownMenuButtons.forEach(link => {\n      dom.attr(link, Selectors.ROLE, \"menuitem\")\n      dom.attr(link, Selectors.TABINDEX, \"-1\")\n    })\n  }\n\n  _render(event, key) {\n    event.preventDefault()\n    event.stopPropagation()\n    this._handleOpenDropdown(event)\n\n    this._activeDropdownButton = event.target\n\n    this._setActiveDropdownId()\n    this._setActiveDropdown()\n    this._setActiveDropdownMenu()\n    this._setVisibleState()\n    this._listenToClose()\n    this._startEvents()\n\n    if (key && key === KeyCodes.ARROW_UP) {\n      this._lastDropdownLink.focus()\n    } else {\n      this._firstDropdownLink.focus()\n    }\n\n    if (iOSMobile) dom.css(document.body, \"cursor\", \"pointer\")\n  }\n\n  _handleClose(event) {\n    event.preventDefault()\n\n    if (iOSMobile) dom.css(document.body, \"cursor\", \"auto\")\n\n    ContextUtil.releaseFocus()\n    this._handleHideState()\n    this._listenToRender()\n\n    this._stopEvents()\n\n    if (this._allowFocusReturn) {\n      this._handleReturnFocus()\n    }\n\n    this._activeDropdownButton = null\n    this._activeDropdownId = null\n    this._activeDropdown = null\n  }\n\n  _listenToRender() {\n    this._activeDropdownButton.removeEventListener(Events.CLICK, this._handleClose)\n    this._activeDropdownButton.addEventListener(Events.CLICK, this._render)\n  }\n\n  _handleHideState() {\n    dom.attr(this._activeDropdownButton, Selectors.ARIA_EXPANDED, \"false\")\n    dom.attr(this._activeDropdown, Selectors.DATA_VISIBLE, \"false\")\n\n    this._activeDropdownLinks.forEach(link => {\n      dom.attr(link, Selectors.TABINDEX, \"-1\")\n      link.removeEventListener(Events.CLICK, this._handleClose)\n    })\n  }\n\n  _stopEvents() {\n    document.removeEventListener(Events.KEYDOWN, this._handleEscapeKeyPress)\n    document.removeEventListener(Events.CLICK, this._handleOffMenuClick)\n  }\n\n  _setActiveDropdownId() {\n    this._activeDropdownId = dom.attr(this._activeDropdownButton, Selectors.DATA_PARENT)\n  }\n\n  _startEvents() {\n    document.addEventListener(Events.KEYDOWN, this._handleEscapeKeyPress)\n    document.addEventListener(Events.CLICK, this._handleOffMenuClick)\n\n    this._activeDropdownLinks = this._getDropdownLinks(this._activeDropdownAttr)\n\n    this._firstDropdownLink = this._activeDropdownLinks[0]\n    this._lastDropdownLink = this._activeDropdownLinks[this._activeDropdownLinks.length - 1]\n\n    this._firstDropdownLink.addEventListener(Events.KEYDOWN, this._handleFirstTabClose)\n    this._lastDropdownLink.addEventListener(Events.KEYDOWN, this._handleLastTabClose)\n\n    this._activeDropdownLinks.forEach(link => {\n      dom.attr(link, Selectors.TABINDEX, \"0\")\n      link.addEventListener(Events.CLICK, this._handleClose)\n    })\n\n    ContextUtil.captureFocus(`${this._activeDropdownAttr} > ul`, { useArrows: true })\n  }\n\n  _listenToClose() {\n    this._activeDropdownButton.removeEventListener(Events.CLICK, this._render)\n    this._activeDropdownButton.addEventListener(Events.CLICK, this._handleClose)\n  }\n\n  _setVisibleState() {\n    dom.attr(this._activeDropdownButton, Selectors.ARIA_EXPANDED, \"true\")\n    dom.attr(this._activeDropdown, Selectors.DATA_VISIBLE, \"true\")\n  }\n\n  _setActiveDropdownMenu() {\n    this._activeDropdownMenuId = dom.attr(this._activeDropdownButton, Selectors.DATA_TARGET)\n    this._activeDropdownMenu = dom.find(`#${this._activeDropdownMenuId}`)\n  }\n\n  _setActiveDropdown() {\n    this._activeDropdownAttr = `[${Selectors.DATA_DROPDOWN}=\"${this._activeDropdownId}\"]`\n    this._activeDropdown = dom.find(this._activeDropdownAttr)\n  }\n\n  _handleOpenDropdown(event) {\n    if (!this._activeDropdownButton) return\n\n    this._allowFocusReturn = false\n    this._handleClose(event)\n    this._allowFocusReturn = true\n  }\n\n  _handleFirstTabClose(event) {\n    const shiftKey = event.which === KeyCodes.SHIFT || event.shiftKey\n    const tabKey = event.which === KeyCodes.TAB\n\n    if (shiftKey && tabKey) {\n      this._handleClose(event)\n    }\n  }\n\n  _handleLastTabClose(event) {\n    const shiftKey = event.which === KeyCodes.SHIFT || event.shiftKey\n    const tabKey = event.which === KeyCodes.TAB\n\n    if (tabKey && !shiftKey) {\n      this._handleClose(event)\n    }\n  }\n\n  _renderWithKeys(event) {\n    if (event.which === KeyCodes.ARROW_UP || event.which === KeyCodes.ARROW_DOWN) {\n      this._render(event, event.which)\n    }\n  }\n\n  _handleEscapeKeyPress(event) {\n    if (event.which === KeyCodes.ESCAPE) {\n      this._handleClose(event)\n    }\n  }\n\n  _handleOffMenuClick(event) {\n    if (event.target !== this._activeDropdownButton && event.target !== this._activeDropdownMenu) {\n      this._handleClose(event)\n    }\n  }\n\n  _handleReturnFocus() {\n    dom.attr(this._activeDropdownButton, Selectors.TAB_INDEX, \"-1\")\n    this._activeDropdownButton.focus()\n    dom.attr(this._activeDropdownButton, Selectors.TAB_INDEX, false)\n  }\n\n  _getDropdownLinks(attr) {\n    return dom.findAll(`${attr} > ul > li > a, ${attr} > ul > li > button`)\n  }\n}\n","import _ContextUtil, { iOSMobile, getFocusableElements, dom, browserEnv } from \"./utils\"\n\nconst ContextUtil = new _ContextUtil()\n\nconst KeyCodes = {\n  ESCAPE: 27,\n}\n\nconst Selectors = {\n  // unique\n  DATA_MODAL: \"data-modal\",\n  // common\n  DATA_TARGET: \"data-target\",\n  DATA_VISIBLE: \"data-visible\",\n  DATA_CLOSE: \"data-close\",\n  DATA_PARENT: \"data-parent\",\n  // accessibility\n  ARIA_HIDDEN: \"aria-hidden\",\n  ARIA_MODAL: \"aria-modal\",\n  ROLE: \"role\",\n  TABINDEX: \"tabindex\",\n  // classes\n  NO_SCROLL: \"no-scroll\",\n}\n\nconst Events = {\n  KEYDOWN: \"keydown\",\n  CLICK: \"click\",\n  RESIZE: \"resize\",\n}\n\nconst Messages = {\n  NO_BUTTON_ERROR: id => `Could not find modal trigger with id ${id}.`,\n  NO_MODAL_ID_ERROR:\n    \"Could not detect an id on your [data-modal] element. Please add a value matching the modal trigger's [data-parent] attribute.\",\n  NO_MODAL_ERROR: id =>\n    `Could not find a [data-parent='${id}'] attribute within your [data-modal='${id}'] element.`,\n}\n\nexport default class Modal {\n  constructor() {\n    // events\n    this._render = this._render.bind(this)\n    this._handleClose = this._handleClose.bind(this)\n    this._handleOverlayClick = this._handleOverlayClick.bind(this)\n    this._handleEscapeKeyPress = this._handleEscapeKeyPress.bind(this)\n\n    // all modals\n    this._modals = []\n    this._modalButtons = []\n\n    // active modal\n    this._activeModalButton = {}\n    this._activeModalOverlay = {}\n    this._activeModal = {}\n    this._activeModalId = \"\"\n    this._activeModalSelector = \"\"\n    this._activeModalCloseButtons = []\n    this._originalPagePaddingRight = \"\"\n    this._scrollbarOffset = 0\n\n    // attribute helpers\n    this._modalContainerAttr = `[${Selectors.DATA_MODAL}]`\n  }\n\n  // public\n\n  start() {\n    if (!browserEnv) return\n\n    this._modals = dom.findAll(this._modalContainerAttr)\n\n    getFocusableElements(this._modalContainerAttr).forEach(element => {\n      dom.attr(element, Selectors.TABINDEX, \"-1\")\n    })\n\n    if (this._modals.length) {\n      this._modals.forEach(instance => {\n        this._setup(instance)\n      })\n    }\n  }\n\n  stop() {\n    if (!browserEnv) return\n\n    this._modals.forEach(instance => {\n      const id = dom.attr(instance, Selectors.DATA_MODAL)\n      const button = dom.find(`[${Selectors.DATA_TARGET}='${id}']`)\n\n      if (!button) {\n        throw new Error(Messages.NO_BUTTON_ERROR(id))\n      }\n\n      button.removeEventListener(Events.CLICK, this._render)\n    })\n  }\n\n  // private\n\n  _setup(instance) {\n    const modalId = dom.attr(instance, Selectors.DATA_MODAL)\n\n    if (!modalId) {\n      throw new Error(Messages.NO_MODAL_ID_ERROR)\n    }\n\n    const modal = dom.find(`[${Selectors.DATA_PARENT}='${modalId}']`, instance)\n\n    if (!modal) {\n      throw new Error(Messages.NO_MODAL_ERROR(modalId))\n    }\n\n    const modalWrapper = dom.find(`[${Selectors.DATA_MODAL}='${modalId}']`)\n\n    dom.attr(modalWrapper, Selectors.ARIA_HIDDEN, \"true\")\n    dom.attr(modalWrapper, Selectors.DATA_VISIBLE, \"false\")\n    dom.attr(modal, Selectors.ARIA_MODAL, \"true\")\n    dom.attr(modal, Selectors.ROLE, \"dialog\")\n\n    const modalButton = dom.find(`[${Selectors.DATA_TARGET}='${modalId}']`)\n\n    if (!modalButton) {\n      throw new Error(Messages.NO_BUTTON_ERROR(modalId))\n    }\n\n    modalButton.addEventListener(Events.CLICK, this._render)\n  }\n\n  _render(event) {\n    event.preventDefault()\n\n    this._activeModalButton = event.target\n\n    this._setActiveModalId()\n    this._setActiveModalOverlay()\n    this._setActiveModal()\n    this._enableFocusOnChildren()\n    this._handleScrollbarOffset()\n    this._handleScrollStop()\n    ContextUtil.captureFocus(this._activeModalSelector)\n    this._setAttributes()\n    this._setCloseButtons()\n    this._handleModalFocus()\n    this._activeModalOverlay.scrollTop = 0\n    this._startEvents()\n  }\n\n  _handleClose(event) {\n    event.preventDefault()\n\n    this._stopEvents()\n    this._handleReturnFocus()\n    this._removeAttributes()\n    ContextUtil.releaseFocus()\n    this._handleScrollRestore()\n    this._removeScrollbarOffset()\n    this._disableFocusOnChildren()\n\n    if (iOSMobile) dom.css(this._activeModalOverlay, \"cursor\", \"auto\")\n\n    this._activeModalId = null\n    this._activeModalButton = null\n    this._activeModal = null\n  }\n\n  _setCloseButtons() {\n    this._activeModalCloseButtons = dom.findAll(\n      `${this._activeModalSelector} [${Selectors.DATA_CLOSE}]`\n    )\n  }\n\n  _setActiveModalId() {\n    this._activeModalId = dom.attr(this._activeModalButton, Selectors.DATA_TARGET)\n  }\n\n  _setActiveModalOverlay() {\n    this._activeModalOverlay = dom.find(`[${Selectors.DATA_MODAL}='${this._activeModalId}']`)\n  }\n\n  _removeAttributes() {\n    dom.attr(this._activeModalOverlay, Selectors.DATA_VISIBLE, \"false\")\n    dom.attr(this._activeModalOverlay, Selectors.ARIA_HIDDEN, \"true\")\n    dom.attr(this._activeModal, Selectors.TABINDEX, false)\n  }\n\n  _disableFocusOnChildren() {\n    getFocusableElements(this._activeModalSelector).forEach(element => {\n      dom.attr(element, Selectors.TABINDEX, \"-1\")\n    })\n  }\n\n  _stopEvents() {\n    document.removeEventListener(Events.KEYDOWN, this._handleEscapeKeyPress)\n    document.removeEventListener(Events.CLICK, this._handleOverlayClick)\n\n    this._activeModalCloseButtons.forEach(button => {\n      button.removeEventListener(Events.CLICK, this._handleClose)\n    })\n  }\n\n  _setActiveModal() {\n    this._activeModalSelector = `[${Selectors.DATA_PARENT}='${this._activeModalId}']`\n    this._activeModal = dom.find(this._activeModalSelector, this._activeModalOverlay)\n  }\n\n  _setAttributes() {\n    dom.attr(this._activeModalOverlay, Selectors.ARIA_HIDDEN, \"false\")\n    dom.attr(this._activeModalOverlay, Selectors.DATA_VISIBLE, \"true\")\n    if (iOSMobile) dom.css(this._activeModalOverlay, \"cursor\", \"pointer\")\n  }\n\n  _startEvents() {\n    document.addEventListener(Events.KEYDOWN, this._handleEscapeKeyPress)\n    document.addEventListener(Events.CLICK, this._handleOverlayClick)\n\n    this._activeModalCloseButtons.forEach(button => {\n      button.addEventListener(Events.CLICK, this._handleClose)\n    })\n  }\n\n  _handleModalFocus() {\n    dom.attr(this._activeModal, Selectors.TABINDEX, \"-1\")\n    this._activeModal.focus()\n  }\n\n  _enableFocusOnChildren() {\n    getFocusableElements(this._activeModalSelector).forEach(element => {\n      element.setAttribute(Selectors.TABINDEX, \"0\")\n    })\n  }\n\n  _getScrollbarOffset() {\n    return window.innerWidth - document.body.getBoundingClientRect().right\n  }\n\n  _handleScrollbarOffset() {\n    if (!this._scrollbarIsVisible()) return\n\n    this._scrollbarOffset = this._getScrollbarOffset()\n    this._originalPagePaddingRight = dom.css(document.body, \"paddingRight\")\n    dom.css(document.body, \"paddingRight\", `${this._scrollbarOffset}px`)\n  }\n\n  _scrollbarIsVisible() {\n    if (typeof window.innerWidth === \"number\") {\n      return window.innerWidth > document.body.getBoundingClientRect().right\n    }\n  }\n\n  _removeScrollbarOffset() {\n    const originalPadding = this._originalPagePaddingRight\n\n    dom.css(this._activeModalOverlay, \"paddingLeft\", `${this._scrollbarOffset}px`)\n    setTimeout(() => dom.css(this._activeModalOverlay, \"paddingLeft\", \"\"), 500)\n\n    if (originalPadding) {\n      dom.css(document.body, \"paddingRight\", `${originalPadding}px`)\n    } else {\n      dom.css(document.body, \"paddingRight\", \"\")\n    }\n  }\n\n  _handleOverlayClick(event) {\n    if (event.target === this._activeModalOverlay) {\n      this._handleClose(event)\n    }\n  }\n\n  _handleEscapeKeyPress(event) {\n    if (event.which === KeyCodes.ESCAPE) {\n      this._handleClose(event)\n    }\n  }\n\n  _handleReturnFocus() {\n    dom.attr(this._activeModalButton, Selectors.TABINDEX, \"-1\")\n    this._activeModalButton.focus()\n    dom.attr(this._activeModalButton, Selectors.TABINDEX, false)\n  }\n\n  _handleScrollRestore() {\n    dom.removeClass(document.body, Selectors.NO_SCROLL)\n    dom.removeClass(document.documentElement, Selectors.NO_SCROLL)\n  }\n\n  _handleScrollStop() {\n    dom.addClass(document.body, Selectors.NO_SCROLL)\n    dom.addClass(document.documentElement, Selectors.NO_SCROLL)\n  }\n}\n","import { iOSMobile, dom, browserEnv } from \"./utils\"\n\nconst KeyCodes = {\n  ESCAPE: 27,\n}\n\nconst Selectors = {\n  // unique\n  DATA_TOOLTIP: \"data-tooltip\",\n  // common\n  DATA_VISIBLE: \"data-visible\",\n  DATA_TARGET: \"data-target\",\n  // accessibility\n  ROLE: \"role\",\n  ARIA_DESCRIBEDBY: \"aria-describedby\",\n  // classes\n  DROP_LEFT_CLASS: \"is-drop-left\",\n  DROP_RIGHT_CLASS: \"is-drop-right\",\n}\n\nconst Events = {\n  CLICK: \"click\",\n  MOUSEOVER: \"mouseover\",\n  MOUSEOUT: \"mouseout\",\n  FOCUS: \"focus\",\n  BLUR: \"blur\",\n  KEYDOWN: \"keydown\",\n}\n\nconst Messages = {\n  NO_ID_ERROR: \"Could not find your tooltip's id.\",\n  NO_TRIGGER_ERROR: id => `Could not find a tooltip trigger with id of ${id}.`,\n  NO_TOOLTIP_ERROR: id => `Could not find a tooltip with id of ${id}.`,\n}\n\nexport default class Tooltip {\n  constructor() {\n    // events\n    this._render = this._render.bind(this)\n    this._handleClose = this._handleClose.bind(this)\n    this._handleEscapeKeyPress = this._handleEscapeKeyPress.bind(this)\n\n    // active tooltip\n    this._activeTrigger = null\n    this._activeTooltip = null\n\n    // all tooltips\n    this._allTooltips = []\n  }\n\n  // public\n\n  start() {\n    if (!browserEnv) return\n\n    this._allTooltips = dom.findAll(`[${Selectors.DATA_TOOLTIP}]`)\n\n    this._allTooltips.forEach(instance => {\n      this._setup(instance)\n    })\n  }\n\n  stop() {\n    if (!browserEnv) return\n\n    this._allTooltips.forEach(instance => {\n      const id = dom.attr(instance, Selectors.DATA_TOOLTIP)\n      const trigger = dom.find(this._getTrigger(id), instance)\n\n      if (this._activeTooltip || this._activeTrigger) {\n        this._handleClose()\n      }\n\n      trigger.removeEventListener(Events.MOUSEOVER, this._render)\n      trigger.removeEventListener(Events.FOCUS, this._render)\n    })\n  }\n\n  // private\n\n  _setup(instance) {\n    const tooltipId = dom.attr(instance, Selectors.DATA_TOOLTIP)\n\n    if (!tooltipId) {\n      throw new Error(Messages.NO_ID_ERROR)\n    }\n\n    const trigger = dom.find(this._getTrigger(tooltipId), instance)\n    const tooltip = dom.find(`#${tooltipId}`, instance)\n\n    if (!trigger) {\n      throw new Error(Messages.NO_TRIGGER_ERROR(tooltipId))\n    }\n\n    if (!tooltip) {\n      throw new Error(Messages.NO_TOOLTIP_ERROR(tooltipId))\n    }\n\n    dom.attr(trigger, Selectors.ARIA_DESCRIBEDBY, tooltipId)\n    dom.attr(tooltip, Selectors.ROLE, \"tooltip\")\n    trigger.addEventListener(Events.MOUSEOVER, this._render)\n    trigger.addEventListener(Events.FOCUS, this._render)\n  }\n\n  _render(event) {\n    this._activeTrigger = event.target\n\n    const tooltipId = this._activeTrigger.getAttribute(Selectors.DATA_TARGET)\n    this._activeTooltip = document.getElementById(tooltipId)\n\n    if (this._isLeftOrRight()) {\n      this._alignTooltip(\"height\")\n    } else {\n      this._alignTooltip(\"width\")\n    }\n\n    this._setVisibleState()\n    this._startCloseEvents()\n  }\n\n  _handleClose() {\n    this._setHideState()\n    this._startOpenEvents()\n\n    this._activeTrigger = null\n    this._activeTooltip = null\n  }\n\n  _setVisibleState() {\n    dom.attr(this._activeTooltip, Selectors.DATA_VISIBLE, \"true\")\n  }\n\n  _setHideState() {\n    dom.attr(this._activeTooltip, Selectors.DATA_VISIBLE, \"false\")\n  }\n\n  _startCloseEvents() {\n    this._activeTrigger.removeEventListener(Events.MOUSEOVER, this._render)\n    this._activeTrigger.removeEventListener(Events.FOCUS, this._render)\n    this._activeTrigger.addEventListener(Events.MOUSEOUT, this._handleClose)\n    this._activeTrigger.addEventListener(Events.BLUR, this._handleClose)\n    document.addEventListener(Events.KEYDOWN, this._handleEscapeKeyPress)\n\n    if (iOSMobile) {\n      dom.css(document.body, \"cursor\", \"pointer\")\n    }\n  }\n\n  _handleEscapeKeyPress(event) {\n    if (event.which === KeyCodes.ESCAPE) {\n      this._handleClose()\n    }\n  }\n\n  _startOpenEvents() {\n    this._activeTrigger.removeEventListener(Events.MOUSEOUT, this._handleClose)\n    this._activeTrigger.removeEventListener(Events.BLUR, this._handleClose)\n    this._activeTrigger.addEventListener(Events.MOUSEOVER, this._render)\n    this._activeTrigger.addEventListener(Events.FOCUS, this._render)\n    document.removeEventListener(Events.KEYDOWN, this._handleEscapeKeyPress)\n\n    if (iOSMobile) dom.css(document.body, \"cursor\", \"auto\")\n  }\n\n  _alignTooltip(property) {\n    const triggerSize = this._getSize(this._activeTrigger, property)\n    const tooltipSize = this._getSize(this._activeTooltip, property)\n    const triggerIsBigger = triggerSize > tooltipSize\n\n    const offset = triggerIsBigger\n      ? (triggerSize - tooltipSize) / 2\n      : (tooltipSize - triggerSize) / -2\n\n    if (property === \"height\") {\n      dom.css(this._activeTooltip, \"top\", `${offset}px`)\n    } else {\n      dom.css(this._activeTooltip, \"left\", `${offset}px`)\n    }\n  }\n\n  _getTrigger(id) {\n    return `[${Selectors.DATA_TARGET}=\"${id}\"]`\n  }\n\n  _getSize(element, property) {\n    return Math.floor(element.getBoundingClientRect()[property])\n  }\n\n  _isLeftOrRight() {\n    return dom.hasClass(this._activeTooltip, Selectors.DROP_LEFT_CLASS, Selectors.DROP_RIGHT_CLASS)\n  }\n}\n","import _Accordion from \"./accordion\"\nimport _Dropdown from \"./dropdown\"\nimport _Modals from \"./modal\"\nimport _Tooltips from \"./tooltip\"\nimport _ContextUtil from \"./utils\"\n\nexport const Accordions = new _Accordion()\nexport const Dropdowns = new _Dropdown()\nexport const Modals = new _Modals()\nexport const Tooltips = new _Tooltips()\nexport const ContextUtil = new _ContextUtil()\n\nconst Undernet = {\n  Modals,\n  Accordions,\n  Dropdowns,\n  Tooltips,\n  ContextUtil,\n}\n\nUndernet.start = () => {\n  Undernet.Modals.start()\n  Undernet.Accordions.start()\n  Undernet.Dropdowns.start()\n  Undernet.Tooltips.start()\n  ContextUtil.enableFocusOutline()\n}\n\nUndernet.stop = () => {\n  Undernet.Modals.stop()\n  Undernet.Accordions.stop()\n  Undernet.Dropdowns.stop()\n  Undernet.Tooltips.stop()\n  ContextUtil.disableFocusOutline()\n}\n\nexport default Undernet\n","import Undernet from \"./index\"\nimport { browserEnv } from \"./utils\"\n\nif (browserEnv) {\n  window.Undernet = Undernet\n}\n\nexport { default as Undernet, Modals, Accordions, Dropdowns, Tooltips, ContextUtil } from \"./index\"\n"],"names":["KeyCodes","SHIFT","TAB","ARROW_UP","ARROW_DOWN","Selectors","FOCUSABLE_TAGS","KEYBOARD_CLASS","NOT_VISUALLY_HIDDEN_CLASS","Events","KEYDOWN","CLICK","browserEnv","window","dom","attr","element","newValue","removeAttribute","setAttribute","getAttribute","hasAttr","hasAttribute","find","selector","parent","document","querySelector","findAll","querySelectorAll","css","property","value","style","addClass","classes","classList","add","removeClass","remove","hasClass","length","filter","cls","contains","getFocusableElements","container","focusables","map","join","iOSMobile","test","navigator","userAgent","ContextUtil","_listenForKeyboard","bind","_listenForClick","_handleFocusTrapWithTab","_handleFocusTrapWithArrows","_focusContainerSelector","_focusableChildren","_focusableFirstChild","_focusableLastChild","_listeningForKeydown","_trapFocusWithArrows","options","useArrows","addEventListener","removeEventListener","body","event","containerElement","containerActive","activeElement","firstActive","lastActive","tabKey","which","shiftKey","hasShift","noShift","preventDefault","focus","arrowUp","arrowDown","_focusNextChild","_focusLastChild","i","DATA_ACCORDION","DATA_ACCORDION_ROW","DATA_VISIBLE","DATA_TARGET","DATA_TOGGLE_MULTIPLE","DATA_PARENT","ARIA_EXPANDED","ARIA_CONTROLS","ARIA_HIDDEN","ARIA_LABELLEDBY","TABINDEX","Messages","NO_VISIBLE_ERROR","id","NO_ROW_ERROR","NO_HEADER_ID_ERROR","NO_ACCORDION_ID_ERROR","NO_CONTENT_ERROR","Accordion","_render","_accordionButtons","_accordionContentsAttr","_accordionContents","_activeContainer","_activeButton","_activeAccordionRowId","_activeRowAttr","_activeRow","_activeContainerId","_activeContainerAttr","_activeContent","_activeButtonExpandState","_activeContentHiddenState","_headers","accordionButtonSelector","_getAccordionButtonSelector","forEach","instance","_setup","buttonTargetId","accordionId","buttonContent","Error","accordionRowAttr","_getAccordionRowAttr","accordionRow","buttonId","buttonContentChildren","contentShouldExpand","scrollHeight","target","_setIds","_setActiveRow","_setActiveContainer","_setActiveContent","_setVisibleState","canExpandMultiple","_closeAllIfToggleable","_toggleSelectedAccordion","accordionButtonState","_nextButtonExpandState","_nextContentHiddenState","header","allContentAttr","allContent","allButtons","allRows","content","_toggleAttributeInCollection","elements","attributeName","_ContextUtil","ESCAPE","DATA_DROPDOWN","ARIA_HASPOPUP","ROLE","NO_DROPDOWN_ID_ERROR","NO_MENU_ERROR","NO_DROPDOWN_ITEMS_ERROR","NO_DROPDOWN_BUTTONS_ERROR","NO_PARENT_ERROR","Dropdown","_handleFirstTabClose","_handleLastTabClose","_renderWithKeys","_handleClose","_handleEscapeKeyPress","_handleOffMenuClick","_activeDropdown","_activeDropdownButton","_activeDropdownMenu","_activeDropdownLinks","_allowFocusReturn","_activeDropdownId","_activeDropdownAttr","_activeDropdownMenuId","_firstDropdownLink","_lastDropdownLink","_dropdownButtons","_dropdowns","_dropdownContainerAttr","_dropdownTargetAttr","button","dropdownId","dropdownAttr","dropdownButton","dropdownMenu","dropdownMenuItemsAttr","dropdownMenuListItems","item","dropdownMenuButtons","_getDropdownLinks","link","key","stopPropagation","_handleOpenDropdown","_setActiveDropdownId","_setActiveDropdown","_setActiveDropdownMenu","_listenToClose","_startEvents","releaseFocus","_handleHideState","_listenToRender","_stopEvents","_handleReturnFocus","captureFocus","TAB_INDEX","DATA_MODAL","DATA_CLOSE","ARIA_MODAL","NO_SCROLL","RESIZE","NO_BUTTON_ERROR","NO_MODAL_ID_ERROR","NO_MODAL_ERROR","Modal","_handleOverlayClick","_modals","_modalButtons","_activeModalButton","_activeModalOverlay","_activeModal","_activeModalId","_activeModalSelector","_activeModalCloseButtons","_originalPagePaddingRight","_scrollbarOffset","_modalContainerAttr","modalId","modal","modalWrapper","modalButton","_setActiveModalId","_setActiveModalOverlay","_setActiveModal","_enableFocusOnChildren","_handleScrollbarOffset","_handleScrollStop","_setAttributes","_setCloseButtons","_handleModalFocus","scrollTop","_removeAttributes","_handleScrollRestore","_removeScrollbarOffset","_disableFocusOnChildren","innerWidth","getBoundingClientRect","right","_scrollbarIsVisible","_getScrollbarOffset","originalPadding","setTimeout","documentElement","DATA_TOOLTIP","ARIA_DESCRIBEDBY","DROP_LEFT_CLASS","DROP_RIGHT_CLASS","MOUSEOVER","MOUSEOUT","FOCUS","BLUR","NO_ID_ERROR","NO_TRIGGER_ERROR","NO_TOOLTIP_ERROR","Tooltip","_activeTrigger","_activeTooltip","_allTooltips","trigger","_getTrigger","tooltipId","tooltip","getElementById","_isLeftOrRight","_alignTooltip","_startCloseEvents","_setHideState","_startOpenEvents","triggerSize","_getSize","tooltipSize","triggerIsBigger","offset","Math","floor","Accordions","_Accordion","Dropdowns","_Dropdown","Modals","_Modals","Tooltips","_Tooltips","Undernet","start","enableFocusOutline","stop","disableFocusOutline"],"mappings":"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"}