!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(i){return(e="function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?function(e){return t(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)})(i)}function i(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var n=16,o=9,a=38,s=40,r={FOCUSABLE_TAGS:["a","button","input","object","select","textarea","[tabindex]"],KEYBOARD_CLASS:"using-keyboard",NOT_VISUALLY_HIDDEN_CLASS:":not(.is-visually-hidden)",TABINDEX:"tabindex"},c="keydown",l="click",h="blur",d="createFocusTrap must be given one or both of: first parameter (as selector string) and/or options.children (array of elements).",u="Invalid data type given to options.matchers for createFocusTrap. Expected: Array.",_=function(t){return"Invalid matcher given to options.matchers for createFocusTrap. Expected: String. Recieved: ".concat(t,".")},v="Invalid value given to options.matchers for createFocusTrap; value must be an array with at least one selector string",f=function(t){return"Element couldn't be found with selector string: '".concat(t,"'")},p=function(t){return"You tried to start an Undernet component with scope '".concat(t,"', but that scope is already active.\n\nYou must call COMPONENT_NAME.stop(scopeSelector) first, then.")},g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";return console[e](t)},y="undefined"!=typeof window,b=function(t,e){return t.getAttribute(e)},A=function(t,e,i){t.setAttribute(e,i)},w=function(t,e){t.removeAttribute(e)},E=function(t,e){return t.hasAttribute(e)},m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return e.querySelector(t)},C=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return i(e.querySelectorAll(t))},T=function(t,e,i){t.style[e]=i},k=function(t,e){return t.style[e]},D=function(t){for(var e,i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];(e=t.classList).add.apply(e,n)},S=function(t){for(var e,i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];(e=t.classList).remove.apply(e,n)},M=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return i.filter((function(e){return t.classList.contains(e)})).length>0},O=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.FOCUSABLE_TAGS,i=e.map((function(e){return"".concat(t," ").concat(e).concat(r.NOT_VISUALLY_HIDDEN_CLASS)})).join(", ");return C(i)},L=!!y&&/(iphone|ipod|ipad)/i.test(navigator.userAgent),I=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y){var l=i.useArrows,h=i.children,f=i.matchers,p=void 0===f?r.FOCUSABLE_TAGS:f;if(t||h.length){if(Array.isArray(p)){if(p.length){var b=!1;if(p.forEach((function(t){var i=e(t);"string"!==i&&(g(_(i)),b=!0)})),b)return}else if(!p.length)return void g(v);var A=h&&h.length?h:O(t,p),w=A[0],E=A[A.length-1],C=function(e){var i=m(t),a=document.activeElement===i,s=document.activeElement===w,r=document.activeElement===E;if(a||s||r){var c=e.which===o,l=e.which===n||e.shiftKey,h=!l&&c;l&&c&&(s||a)?(e.preventDefault(),E.focus()):h&&r&&(e.preventDefault(),w.focus())}},T=function(){for(var t=0;t<A.length;t++)if(A[t]===document.activeElement){A[t+1].focus();break}},k=function(){for(var t=0;t<A.length;t++)if(A[t]===document.activeElement){A[t-1].focus();break}},D=function(t){var e=document.activeElement===w,i=document.activeElement===E,n=t.which===a,o=t.which===s;(n||o)&&(t.preventDefault(),e&&n?E.focus():i&&o?w.focus():o?T():n&&k())};return{start:function(){l?document.addEventListener(c,D):document.addEventListener(c,C)},stop:function(){l?document.removeEventListener(c,D):document.removeEventListener(c,C)}}}g(u)}else g(d)}},P=function(t){A(t,r.TABINDEX,"-1"),t.focus(),t.addEventListener(h,(function t(e){var i=e.target;w(i,r.TABINDEX),i.removeEventListener(h,t)}))},R=function(t,e,i){return t.filter((function(t){return!!b(t,e)||(g(i),!1)}))},N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.thisArg,i=t.scopeId,n=t.scopeKey,o=t.componentAttribute,a=t.globalKey,s=t.errorMessage,r=t.filterFn,c=e[n].get(i);if(!c||c&&c.globalKey!==a){var l=m(i);if(!l)return void g(f(i));var h=C("[".concat(o,"]"),l);if(!(h="function"==typeof r?r(h):R(h,o,s))||!h.length)return;e[n].set(i,{elements:h,parent:l,globalKey:a})}else g(p(i))},K=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.thisArg,i=t.scopeKey,n=t.componentAttribute,o=t.globalKey,a=t.errorMessage,s=t.filterFn,r=e[i],c=C("[".concat(n,"]"));"function"==typeof s&&(c=s(c)),c.length&&r.size?r.forEach((function(t){c=c.filter((function(e){var i=b(e,n);return i?Boolean(!m("[".concat(n,"='").concat(i,"']"),t.parent)):(g(a),!1)}))})):c=R(c,n,a),e[o]=c},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.scopeId?N(t):K(t)},F="data-collapsible",B="data-visible",j="data-target",V="data-parent",H="aria-expanded",W="aria-controls",X="aria-hidden",Y="aria-labelledby",z="tabindex",U="maxHeight",G="click",q="Could not initialize collapsible; you must include a value for the 'data-collapsible' attribute.",J=function(t){return"Could not find collapsible trigger with [data-target='".concat(t,"']; you can't have a collapsible without a trigger.")},Q=function(t){return"Could not find id on collapsible trigger with [data-target='".concat(t,"'].")},Z=function(t){return"Could not find collapsible content with id '".concat(t,"'; you can't have a collapsible without content.")};function $(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var tt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._handleClick=this._handleClick.bind(this),this._setCollapsibles=this._setCollapsibles.bind(this),this._setup=this._setup.bind(this),this._teardown=this._teardown.bind(this),this._collapsibles=[],this._collapsibleTriggers=[],this._collapsibleScopes=new Map,this._activeCollapsible={},this._activeTrigger={},this._activeContent={},this._activeCollapsibleId="",this._nextAriaExpandedState="",this._nextAriaHiddenState=""}var e,i,n;return e=t,(i=[{key:"start",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y){var n=i.controlled,o=i.onClick,a=function(t){return e._setCollapsibles(t,n)};x({thisArg:this,scopeId:t,scopeKey:"_collapsibleScopes",componentAttribute:F,globalKey:"_collapsibles",errorMessage:q,filterFn:a}),this._handleClickFn=o||this._handleClick.bind(this),t&&this._collapsibleScopes.has(t)?this._collapsibleScopes.get(t).elements.forEach(this._setup):this._collapsibles.length&&this._collapsibles.forEach(this._setup)}}},{key:"stop",value:function(t){y&&(t&&this._collapsibleScopes.has(t)?(this._collapsibleScopes.get(t).elements.forEach(this._teardown),this._collapsibleScopes.delete(t)):this._collapsibles.length&&(this._collapsibles.forEach(this._teardown),this._collapsibles=[]))}},{key:"toggleCollapsible",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.collapsible,i=t.trigger,n=t.content,o=t.id,a=t.nextAriaExpandState,s=t.nextAriaHiddenState,r=o||this._activeCollapsibleId,c=e||this._activeCollapsible,l=i||this._activeTrigger,h=n||this._activeContent,d=a||this._nextAriaExpandedState,u=s||this._nextAriaHiddenState;A(c,B,d),A(l,H,d),A(h,X,u),O("#".concat(r)).forEach((function(t){A(t,z,"true"===d?"0":"-1")})),k(h,U)?T(h,U,null):T(h,U,this._getFontSizeEm(h.scrollHeight))}},{key:"_setup",value:function(t){var e=this._getCollapsibleData(t),i=e.trigger,n=e.id,o="#".concat(n),a=m(o,t);if(a)if(i.id){A(i,W,n),A(a,Y,i.id);var s=O(o);"false"===b(t,B)?(A(i,H,"false"),A(a,X,"true"),s.forEach((function(t){A(t,z,"-1")}))):(A(t,B,"true"),T(a,U,this._getFontSizeEm(a.scrollHeight)),A(i,H,"true"),A(a,X,"false"),s.forEach((function(t){A(t,z,"0")}))),this._collapsibleTriggers.push(i),i.addEventListener(G,this._handleClickFn)}else g(Q(n));else g(Z(n))}},{key:"_teardown",value:function(t){this._getCollapsibleData(t).trigger.removeEventListener(G,this._handleClickFn)}},{key:"_handleClick",value:function(t){t.preventDefault(),this._activeTrigger=t.target,this._setIds(),this._setActiveCollapsible(),this._setActiveContent(),this._setNextVisibleState(),this.toggleCollapsible(),this._activeCollapsible=null,this._activeTrigger=null,this._activeContent=null}},{key:"_getCollapsibleData",value:function(t){var e=b(t,F),i=this._getTargetAttr(e);return{id:e,trigger:m(i,t)}}},{key:"_setCollapsibles",value:function(t,e){var i=this;return t.filter((function(t){var n=b(t,F);if(!n)return g(q),!1;var o=i._getTargetAttr(n),a=m(o,t);return a?e?E(a,V):!E(a,V):(g(J(n)),!1)}))}},{key:"_setActiveContent",value:function(){this._activeContent=m("#".concat(this._activeCollapsibleId))}},{key:"_setNextVisibleState",value:function(){var t=b(this._activeCollapsible,B);this._nextAriaExpandedState="true"===t?"false":"true",this._nextAriaHiddenState="false"===t?"false":"true"}},{key:"_setIds",value:function(){this._activeCollapsibleId=b(this._activeTrigger,j)}},{key:"_setActiveCollapsible",value:function(){this._activeCollapsible=m("[".concat(F,"='").concat(this._activeCollapsibleId,"']"))}},{key:"_getTargetAttr",value:function(t){return"[".concat(j,"='").concat(t,"']")}},{key:"_getFontSizeEm",value:function(t){return"".concat(t/function(){if(y){var t=m("body"),e=window.getComputedStyle(t).getPropertyValue("font-size"),i=16;if(e){var n=e.indexOf("px");i=parseFloat(e.slice(0,n))}return i}}(),"rem")}}])&&$(e.prototype,i),n&&$(e,n),t}(),et="data-accordion",it="data-collapsible",nt="data-toggle-multiple",ot="data-parent",at="data-visible",st="data-target",rt="Could not initialize accordion; you must include a value for the 'data-accordion' attribute.",ct=function(t){return"Could not find element matching [data-accordion='".concat(t,"']")},lt=function(t,e,i){return"Your accordion with id '".concat(t,"' has ").concat(e," triggers and ").concat(i," collapsibles; make sure there is a trigger for each collapsible!")};function ht(e){return(ht="function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?function(e){return t(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)})(e)}function dt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _t(t,e,i){return(_t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ft(t,e){return(ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pt=function(t){function e(){var t,i,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,(t=!(n=vt(e).call(this))||"object"!==ht(n)&&"function"!=typeof n?ut(i):n)._handleClick=t._handleClick.bind(ut(t)),t._setFocusTraps=t._setFocusTraps.bind(ut(t)),t._accordions=[],t._focusTraps=[],t._accordionScopes=new Map,t._activeAccordionId="",t._activeAccordion={},t._toggleMultipleEnabled=!1,t}var i,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}(e,t),i=e,(n=[{key:"start",value:function(t){if(y){var i={controlled:!0,onClick:this._handleClick};x({thisArg:this,scopeId:t,scopeKey:"_accordionScopes",componentAttribute:et,globalKey:"_accordions",errorMessage:rt}),_t(vt(e.prototype),"start",this).call(this,t,i),t&&this._accordionScopes.has(t)?this._accordionScopes.get(t).elements.forEach(this._setFocusTraps):this._accordions.length&&this._accordions.forEach(this._setFocusTraps)}}},{key:"stop",value:function(t){var i=this;y&&(t&&this._accordionScopes.has(t)?(this._accordionScopes.get(t).elements.forEach((function(n){_t(vt(e.prototype),"stop",i).call(i,t),i._unsetFocusTraps(n)})),this._accordionScopes.delete(t)):this._accordions.length&&(this._accordions.forEach((function(n){_t(vt(e.prototype),"stop",i).call(i,t),i._unsetFocusTraps(n)})),this._accordions=[]))}},{key:"_unsetFocusTraps",value:function(t){var e=b(t,et);this._focusTraps[e]&&this._focusTraps[e].stop()}},{key:"_setFocusTraps",value:function(t){var e=b(t,et);if(e){var i=C("[".concat(ot,"='").concat(e,"']"),t),n=C("[".concat(it,"]"),t);i.length!==n.length&&g(lt(e,i.length,n.length),"warn"),this._focusTraps[e]=I(null,{children:i,useArrows:!0}),this._focusTraps[e].start()}else g(rt)}},{key:"_handleClick",value:function(t){var i=t.target;_t(vt(e.prototype),"_handleClick",this).call(this,t),this._setActiveAccordionId(i),this._activeAccordionId?(this._setActiveAccordion(),this._activeAccordion?(this._setToggleMultiple(),this._closeAllCollapsibles(i)):g(ct(this._activeAccordionId))):g(rt)}},{key:"_closeAllCollapsibles",value:function(t){var e=this;if(!this._toggleMultipleEnabled){var i=C("[".concat(ot,"='").concat(this._activeAccordionId,"']"),this._activeAccordion).filter((function(i){return i!==t&&e._isExpanded(i)}));i.length&&this._isExpanded(t)&&i.forEach(this._closeCollapsible)}}},{key:"_closeCollapsible",value:function(t){var i=b(t,st),n=m("[".concat(it,"='").concat(i,"']")),o=m("#".concat(i),n);_t(vt(e.prototype),"toggleCollapsible",this).call(this,{id:i,collapsible:n,trigger:t,content:o,nextAriaExpandState:"false",nextAriaHiddenState:"true"})}},{key:"_isExpanded",value:function(t){var e=b(t,st),i=m("[".concat(et,"='").concat(this._activeAccordionId,"'] [").concat(it,"='").concat(e,"']"));return"true"===b(i,at)}},{key:"_setActiveAccordionId",value:function(t){this._activeAccordionId=b(t,ot)}},{key:"_setActiveAccordion",value:function(){this._activeAccordion=m("[".concat(et,"='").concat(this._activeAccordionId,"']"))}},{key:"_setToggleMultiple",value:function(){this._toggleMultipleEnabled=E(this._activeAccordion,nt)}}])&&dt(i.prototype,n),o&&dt(i,o),e}(tt),gt=9,yt=16,bt=27,At=38,wt=40,Et={DATA_DROPDOWN:"data-dropdown",DROPDOWN_MENU_CLASS:"dropdown-menu",DATA_TARGET:"data-target",DATA_PARENT:"data-parent",DATA_VISIBLE:"data-visible",TABINDEX:"tabindex",ARIA_HASPOPUP:"aria-haspopup",ARIA_CONTROLS:"aria-controls",ARIA_LABELLEDBY:"aria-labelledby",ARIA_EXPANDED:"aria-expanded",ROLE:"role"},mt="keydown",Ct="click",Tt="cursor",kt="pointer",Dt="Could not setup dropdown. Make sure it has a valid [data-dropdown] attribute with a unique id as its value.",St=function(t){return"Could not find menu associated with ".concat(t,".")},Mt=function(t){return"Could not find any list items associated with ".concat(t,".")},Ot=function(t){return"Could not find any button or anchor elements associated with ".concat(t,".")},Lt="Could not find dropdown button's [data-parent] attribute.";function It(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Pt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._handleClick=this._handleClick.bind(this),this._handleFirstTabClose=this._handleFirstTabClose.bind(this),this._handleLastTabClose=this._handleLastTabClose.bind(this),this._handleArrowKeyPress=this._handleArrowKeyPress.bind(this),this._handleCloseClick=this._handleCloseClick.bind(this),this._handleEscapeKeyPress=this._handleEscapeKeyPress.bind(this),this._handleOffMenuClick=this._handleOffMenuClick.bind(this),this._setup=this._setup.bind(this),this._teardown=this._teardown.bind(this),this._dropdowns=[],this._scopes=new Map,this._activeDropdown=null,this._activeDropdownTrigger=null,this._activeDropdownMenu=null,this._activeDropdownActions=[],this._allowFocusReturn=!0,this._activeDropdownId="",this._activeDropdownAttr="",this._activeDropdownMenuId="",this._firstDropdownAction=null,this._lastDropdownAction=null,this._focusTrap=null,this._dropdownContainerAttr="[".concat(Et.DATA_DROPDOWN,"]"),this._dropdownTargetAttr="[".concat(Et.DATA_TARGET,"]"),this._dropdownMenuClassName=".".concat(Et.DROPDOWN_MENU_CLASS)}var e,i,n;return e=t,(i=[{key:"start",value:function(t){y&&(x({thisArg:this,scopeId:t,scopeKey:"_scopes",componentAttribute:Et.DATA_DROPDOWN,globalKey:"_dropdowns",errorMessage:Dt}),t&&this._scopes.has(t)?this._scopes.get(t).elements.forEach(this._setup):this._dropdowns.length&&this._dropdowns.forEach(this._setup))}},{key:"stop",value:function(t){var e=this;if(y)if(t&&this._scopes.has(t)){var i=this._scopes.get(t).elements;i.forEach((function(t){var i=m("".concat(e._dropdownMenuClassName),t);"true"===b(i,Et.DATA_VISIBLE)&&e._closeActiveDropdownMenu()})),i.forEach(this._teardown),this._scopes.delete(t)}else!t&&this._dropdowns.length&&(this._activeDropdown&&this._closeActiveDropdownMenu(),this._dropdowns.forEach(this._teardown))}},{key:"_setup",value:function(t){var e=t.getAttribute(Et.DATA_DROPDOWN);if(e){var i="[".concat(Et.DATA_DROPDOWN,'="').concat(e,'"]'),n=m("".concat(i," > ").concat(this._dropdownTargetAttr));if(b(n,Et.DATA_PARENT)){var o=m("".concat(i," > ").concat(this._dropdownMenuClassName));if(o){A(o,Et.ARIA_LABELLEDBY,n.id),A(n,Et.ARIA_CONTROLS,o.id),A(n,Et.ARIA_HASPOPUP,"true"),A(n,Et.ARIA_EXPANDED,"false");var a="".concat(i," > ").concat(this._dropdownMenuClassName," > li"),s=C(a);if(s.length){s.forEach((function(t){return A(t,Et.ROLE,"none")}));var r=this._getDropdownActions(i);r.length?(r.forEach((function(t){A(t,Et.ROLE,"menuitem"),A(t,Et.TABINDEX,"-1")})),n.addEventListener(Ct,this._handleClick),n.addEventListener(mt,this._handleArrowKeyPress)):g(Ot(i))}else g(Mt(i))}else g(St(i))}else g(Lt)}else g(Dt)}},{key:"_teardown",value:function(t){var e=b(t,Et.DATA_DROPDOWN),i=m("[".concat(Et.DATA_PARENT,"='").concat(e,"']"),t);i.removeEventListener(Ct,this._handleClick),i.removeEventListener(mt,this._handleArrowKeyPress)}},{key:"_handleClick",value:function(t,e){t.preventDefault(),t.stopPropagation(),this._closeOpenDropdowns(t),this._activeDropdownTrigger=t.target,this._setActiveDropdownId(),this._setActiveDropdown(),this._setActiveDropdownMenu(),this._setVisibleState(),this._startActiveDropdownEvents(),e&&e===At?this._lastDropdownAction.focus():this._firstDropdownAction.focus(),L&&T(document.body,Tt,kt)}},{key:"_handleCloseClick",value:function(){this._closeActiveDropdownMenu()}},{key:"_closeActiveDropdownMenu",value:function(){this._allowFocusReturn&&this._handleReturnFocus(),this._closeActiveDropdown()}},{key:"_closeActiveDropdown",value:function(){var t=this;L&&T(document.body,Tt,kt),A(this._activeDropdown,Et.DATA_VISIBLE,"false"),A(this._activeDropdownTrigger,Et.ARIA_EXPANDED,"false"),this._activeDropdownTrigger.removeEventListener(Ct,this._handleCloseClick),this._activeDropdownTrigger.addEventListener(Ct,this._handleClick),document.removeEventListener(mt,this._handleEscapeKeyPress),document.removeEventListener(Ct,this._handleOffMenuClick),this._firstDropdownAction.removeEventListener(mt,this._handleFirstTabClose),this._lastDropdownAction.removeEventListener(mt,this._handleLastTabClose),this._activeDropdownActions.forEach((function(e){A(e,Et.TABINDEX,"-1"),e.removeEventListener(Ct,t._handleCloseClick)})),this._focusTrap.stop(),this._focusTrap=null,this._resetProperties()}},{key:"_resetProperties",value:function(){this._activeDropdown=null,this._activeDropdownTrigger=null,this._activeDropdownMenu=null,this._activeDropdownActions=[],this._allowFocusReturn=!0,this._activeDropdownId="",this._activeDropdownAttr="",this._activeDropdownMenuId="",this._firstDropdownAction=null,this._lastDropdownAction=null,this._focusTrap=null}},{key:"_setActiveDropdownId",value:function(){this._activeDropdownId=b(this._activeDropdownTrigger,Et.DATA_PARENT)}},{key:"_startActiveDropdownEvents",value:function(){var t=this;this._activeDropdownTrigger.removeEventListener(Ct,this._handleClick),this._activeDropdownTrigger.addEventListener(Ct,this._handleCloseClick),document.addEventListener(mt,this._handleEscapeKeyPress),document.addEventListener(Ct,this._handleOffMenuClick),this._activeDropdownActions=this._getDropdownActions(this._activeDropdownAttr),this._firstDropdownAction=this._activeDropdownActions[0],this._lastDropdownAction=this._activeDropdownActions[this._activeDropdownActions.length-1],this._firstDropdownAction.addEventListener(mt,this._handleFirstTabClose),this._lastDropdownAction.addEventListener(mt,this._handleLastTabClose),this._activeDropdownActions.forEach((function(e){A(e,Et.TABINDEX,"0"),e.addEventListener(Ct,t._handleCloseClick)}));var e="".concat(this._activeDropdownAttr," > ").concat(this._dropdownMenuClassName);this._focusTrap&&this._focusTrap.stop(),this._focusTrap=I(e,{useArrows:!0}),this._focusTrap.start()}},{key:"_setVisibleState",value:function(){A(this._activeDropdownTrigger,Et.ARIA_EXPANDED,"true"),A(this._activeDropdown,Et.DATA_VISIBLE,"true")}},{key:"_setActiveDropdownMenu",value:function(){this._activeDropdownMenuId=b(this._activeDropdownTrigger,Et.DATA_TARGET),this._activeDropdownMenu=m("#".concat(this._activeDropdownMenuId))}},{key:"_setActiveDropdown",value:function(){this._activeDropdownAttr="[".concat(Et.DATA_DROPDOWN,'="').concat(this._activeDropdownId,'"]'),this._activeDropdown=m(this._activeDropdownAttr)}},{key:"_closeOpenDropdowns",value:function(t){this._activeDropdownTrigger&&(this._allowFocusReturn=!1,this._handleCloseClick(t),this._allowFocusReturn=!0)}},{key:"_handleFirstTabClose",value:function(t){var e=t.which===yt||t.shiftKey,i=t.which===gt;e&&i&&this._handleCloseClick(t)}},{key:"_handleLastTabClose",value:function(t){var e=t.which===yt||t.shiftKey;t.which===gt&&!e&&this._handleCloseClick(t)}},{key:"_handleArrowKeyPress",value:function(t){t.which!==At&&t.which!==wt||this._handleClick(t,t.which)}},{key:"_handleEscapeKeyPress",value:function(t){t.which===bt&&this._handleCloseClick(t)}},{key:"_handleOffMenuClick",value:function(t){t.target!==this._activeDropdownTrigger&&t.target!==this._activeDropdownMenu&&this._handleCloseClick(t)}},{key:"_handleReturnFocus",value:function(){this._activeDropdownTrigger&&P(this._activeDropdownTrigger)}},{key:"_getDropdownActions",value:function(t){return C("".concat(t," > ").concat(this._dropdownMenuClassName," > li > a, ").concat(t," > ").concat(this._dropdownMenuClassName," > li > button"))}}])&&It(e.prototype,i),n&&It(e,n),t}(),Rt=27,Nt="data-modal",Kt="data-target",xt="data-visible",Ft="data-close",Bt="data-parent",jt="aria-hidden",Vt="aria-modal",Ht="role",Wt="tabindex",Xt="no-scroll",Yt="paddingRight",zt="paddingLeft",Ut="cursor",Gt="auto",qt="pointer",Jt="keydown",Qt="click",Zt=function(t){return"Could not find modal trigger with id ".concat(t,".")},$t="Could not detect an id on your [data-modal] element. Please add a value matching the modal trigger's [data-parent] attribute.",te=function(t){return"Could not find element with attribute [data-parent='".concat(t,"'].")};function ee(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ie=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._handleClick=this._handleClick.bind(this),this._handleCloseClick=this._handleCloseClick.bind(this),this._handleOverlayClick=this._handleOverlayClick.bind(this),this._handleEscapeKeyPress=this._handleEscapeKeyPress.bind(this),this._setup=this._setup.bind(this),this._teardown=this._teardown.bind(this),this._modals=[],this._scopes=new Map,this._activeModalTrigger=null,this._activeModalOverlayAttr="",this._activeModalOverlay=null,this._activeModal=null,this._activeModalId="",this._activeModalSelector="",this._activeModalCloseTriggers=[],this._originalPagePadding="",this._scrollbarOffset=null,this._focusTrap=null}var e,i,n;return e=t,(i=[{key:"start",value:function(t){y&&(x({thisArg:this,scopeId:t,scopeKey:"_scopes",componentAttribute:Nt,globalKey:"_modals",errorMessage:$t}),t&&this._scopes.has(t)?this._scopes.get(t).elements.forEach(this._setup):this._modals.length&&this._modals.forEach(this._setup))}},{key:"stop",value:function(t){var e=this;if(y)if(t&&this._scopes.has(t)){var i=this._scopes.get(t).elements;i.forEach((function(t){"true"===b(t,xt)&&e._closeActiveModal()})),i.forEach(this._teardown),this._scopes.delete(t)}else this._modals.length&&(this._activeModal&&this._closeActiveModal(),this._modals.forEach(this._teardown))}},{key:"_setup",value:function(t){var e=b(t,Nt);if(e){var i="[".concat(Nt,"='").concat(e,"']"),n=m(i);O(i).forEach((function(t){return A(t,Wt,"-1")}));var o=m("[".concat(Bt,"='").concat(e,"']"),t);if(o){A(n,jt,"true"),A(n,xt,"false"),A(o,Vt,"true"),A(o,Ht,"dialog");var a=m("[".concat(Kt,"='").concat(e,"']"));a?a.addEventListener(Qt,this._handleClick):g(Zt(e))}else g(te(e))}else g($t)}},{key:"_teardown",value:function(t){var e=b(t,Nt);m("[".concat(Kt,"='").concat(e,"']")).removeEventListener(Qt,this._handleClick)}},{key:"_handleClick",value:function(t){t.preventDefault(),this._activeModalTrigger=t.target,this._setActiveModalId(),this._setActiveModalOverlay(),this._setActiveModal(),this._setScrollbarOffset(),this._setScrollStop(),this._focusTrap=I(this._activeModalSelector),this._focusTrap.start(),this._changeDialogVisibility(!0),this._changeTabindexOnChildren("0"),this._setCloseTriggers(),this._focusModalDialog(),this._activeModalOverlay.scrollTop=0,this._startEvents()}},{key:"_handleCloseClick",value:function(t){t.preventDefault(),this._closeActiveModal()}},{key:"_closeActiveModal",value:function(){var t=this;this._changeDialogVisibility(!1),this._focusModalTrigger(),this._unsetScrollStop(),this._unsetScrollbarOffset(),document.removeEventListener(Jt,this._handleEscapeKeyPress),document.removeEventListener(Qt,this._handleOverlayClick),this._changeTabindexOnChildren("-1"),this._activeModalCloseTriggers.forEach((function(e){e.removeEventListener(Qt,t._handleCloseClick),A(e,Wt,"-1")})),this._focusTrap.stop(),this._resetProperties()}},{key:"_resetProperties",value:function(){this._activeModalTrigger=null,this._activeModal=null,this._activeModalId="",this._activeModalSelector="",this._activeModalCloseTriggers=[],this._originalPagePadding="",this._scrollbarOffset=null,this._focusTrap=null}},{key:"_changeTabindexOnChildren",value:function(t){var e=O(this._activeModalOverlayAttr);e.length&&e.forEach((function(e){return A(e,Wt,t)}))}},{key:"_setCloseTriggers",value:function(){this._activeModalCloseTriggers=C("".concat(this._activeModalSelector," [").concat(Ft,"]"))}},{key:"_setActiveModalId",value:function(){this._activeModalId=b(this._activeModalTrigger,Kt)}},{key:"_setActiveModalOverlay",value:function(){this._activeModalOverlayAttr="[".concat(Nt,"='").concat(this._activeModalId,"']"),this._activeModalOverlay=m("[".concat(Nt,"='").concat(this._activeModalId,"']"))}},{key:"_setActiveModal",value:function(){this._activeModalSelector="[".concat(Bt,"='").concat(this._activeModalId,"']"),this._activeModal=m(this._activeModalSelector,this._activeModalOverlay)}},{key:"_changeDialogVisibility",value:function(t){A(this._activeModalOverlay,jt,t?"false":"true"),A(this._activeModalOverlay,xt,t?"true":"false"),L&&T(this._activeModalOverlay,Ut,t?qt:Gt)}},{key:"_startEvents",value:function(){var t=this;document.addEventListener(Jt,this._handleEscapeKeyPress),document.addEventListener(Qt,this._handleOverlayClick),this._activeModalCloseTriggers.forEach((function(e){e.addEventListener(Qt,t._handleCloseClick)}))}},{key:"_focusModalDialog",value:function(){P(this._activeModal)}},{key:"_getScrollbarOffset",value:function(){return window.innerWidth-document.body.getBoundingClientRect().right}},{key:"_setScrollbarOffset",value:function(){this._scrollbarIsVisible()&&(this._scrollbarOffset=this._getScrollbarOffset(),this._originalPagePadding=k(document.body,Yt),T(document.body,Yt,"".concat(this._scrollbarOffset,"px")))}},{key:"_scrollbarIsVisible",value:function(){if("number"==typeof window.innerWidth)return window.innerWidth>document.body.getBoundingClientRect().right}},{key:"_unsetScrollbarOffset",value:function(){if(this._activeModalOverlay){var t=this._originalPagePadding;this._setPaddingOffsetTimeout(),T(document.body,Yt,t)}}},{key:"_setPaddingOffsetTimeout",value:function(){var t=this;T(this._activeModalOverlay,zt,"".concat(this._scrollbarOffset,"px")),setTimeout((function(){T(t._activeModalOverlay,zt,""),t._activeModalOverlay=null,t._activeModalOverlayAttr=null}),500)}},{key:"_handleOverlayClick",value:function(t){t.target===this._activeModalOverlay&&this._handleCloseClick(t)}},{key:"_handleEscapeKeyPress",value:function(t){t.which===Rt&&this._handleCloseClick(t)}},{key:"_focusModalTrigger",value:function(){P(this._activeModalTrigger)}},{key:"_unsetScrollStop",value:function(){S(document.body,Xt),S(document.documentElement,Xt)}},{key:"_setScrollStop",value:function(){D(document.body,Xt),D(document.documentElement,Xt)}}])&&ee(e.prototype,i),n&&ee(e,n),t}(),ne=27,oe="data-tooltip",ae="data-visible",se="data-target",re="role",ce="aria-describedby",le="is-drop-inline-start",he="is-drop-inline-end",de="height",ue="width",_e="cursor",ve="top",fe="left",pe="pointer",ge="auto",ye="mouseover",be="mouseout",Ae="focus",we="blur",Ee="keydown",me="Could not find tooltip id.",Ce=function(t){return"Could not find a tooltip trigger with attribute [data-target='".concat(t,"'].")},Te=function(t){return"Could not find a tooltip with id '".concat(t,"'.")};function ke(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var De=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._handleEvent=this._handleEvent.bind(this),this._handleClose=this._handleClose.bind(this),this._handleEscapeKeyPress=this._handleEscapeKeyPress.bind(this),this._setup=this._setup.bind(this),this._teardown=this._teardown.bind(this),this._tooltips=[],this._scopes=new Map,this._activeTrigger=null,this._activeTooltip=null}var e,i,n;return e=t,(i=[{key:"start",value:function(t){y&&(x({thisArg:this,scopeId:t,scopeKey:"_scopes",componentAttribute:oe,globalKey:"_tooltips",errorMessage:me}),t&&this._scopes.has(t)?this._scopes.get(t).elements.forEach(this._setup):this._tooltips.length&&this._tooltips.forEach(this._setup))}},{key:"stop",value:function(t){var e=this;if(y)if(t&&this._scopes.has(t)){var i=this._scopes.get(t).elements;i.forEach((function(t){var i=b(t,oe),n=m("#".concat(i));n?"true"===b(n,ae)&&e._handleClose():g(Te(i))})),i.forEach(this._teardown),this._scopes.delete(t)}else this._tooltips.length&&(this._activeTooltip&&this._handleClose(),this._tooltips.forEach(this._teardown),this._tooltips=[])}},{key:"_setup",value:function(t){var e=b(t,oe);if(e){var i=m(this._getTrigger(e),t),n=m("#".concat(e),t);i?n?(A(i,ce,e),A(n,re,"tooltip"),i.addEventListener(ye,this._handleEvent),i.addEventListener(Ae,this._handleEvent)):g(Te(e)):g(Ce(e))}else g(me)}},{key:"_teardown",value:function(t){var e=b(t,oe),i=m(this._getTrigger(e),t);i.removeEventListener(ye,this._handleEvent),i.removeEventListener(Ae,this._handleEvent)}},{key:"_handleEvent",value:function(t){(this._activeTooltip||this._activeTrigger)&&this._handleClose(),this._activeTrigger=t.target;var e=this._activeTrigger.getAttribute(se);this._activeTooltip=document.getElementById(e),this._hasInlineClass()?this._alignTooltip(de):this._alignTooltip(ue),this._setVisibleState(),this._startCloseEvents()}},{key:"_handleClose",value:function(){this._activeTooltip&&this._setHideState(),this._startOpenEvents(),this._resetProperties()}},{key:"_resetProperties",value:function(){this._activeTrigger=null,this._activeTooltip=null}},{key:"_setVisibleState",value:function(){A(this._activeTooltip,ae,"true")}},{key:"_setHideState",value:function(){A(this._activeTooltip,ae,"false")}},{key:"_startCloseEvents",value:function(){this._activeTrigger.removeEventListener(ye,this._handleEvent),this._activeTrigger.removeEventListener(Ae,this._handleEvent),this._activeTrigger.addEventListener(be,this._handleClose),this._activeTrigger.addEventListener(we,this._handleClose),document.addEventListener(Ee,this._handleEscapeKeyPress),L&&T(document.body,_e,pe)}},{key:"_handleEscapeKeyPress",value:function(t){t.which===ne&&this._handleClose()}},{key:"_startOpenEvents",value:function(){this._activeTrigger&&(this._activeTrigger.removeEventListener(be,this._handleClose),this._activeTrigger.removeEventListener(we,this._handleClose),this._activeTrigger.addEventListener(ye,this._handleEvent),this._activeTrigger.addEventListener(Ae,this._handleEvent),document.removeEventListener(Ee,this._handleEscapeKeyPress),L&&T(document.body,_e,ge))}},{key:"_alignTooltip",value:function(t){var e=this._getSize(this._activeTrigger,t),i=this._getSize(this._activeTooltip,t),n=e>i?(e-i)/2:(i-e)/-2;T(this._activeTooltip,t===de?ve:fe,"".concat(n,"px"))}},{key:"_getTrigger",value:function(t){return"[".concat(se,'="').concat(t,'"]')}},{key:"_getSize",value:function(t,e){return Math.floor(t.getBoundingClientRect()[e])}},{key:"_hasInlineClass",value:function(){return M(this._activeTooltip,le,he)}}])&&ke(e.prototype,i),n&&ke(e,n),t}(),Se=new tt,Me=new pt,Oe=new Pt,Le={Modals:new ie,Collapsibles:Se,Accordions:Me,Dropdowns:Oe,Tooltips:new De,createFocusTrap:I,createFocusRing:function(){if(y){var t,e=function e(){document.body.classList.add(r.KEYBOARD_CLASS),document.removeEventListener(c,e),document.addEventListener(l,i),t=!1},i=function i(){document.body.classList.remove(r.KEYBOARD_CLASS),document.removeEventListener(l,i),document.addEventListener(c,e),t=!0};return{start:function(){document.addEventListener(c,e)},stop:function(){t?document.removeEventListener(c,e):(document.body.classList.remove(r.KEYBOARD_CLASS),document.removeEventListener(l,i))}}}}},Ie=Le.createFocusRing();Le.start=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Le.Modals.start(t),Le.Accordions.start(t),Le.Collapsibles.start(t),Le.Dropdowns.start(t),Le.Tooltips.start(t),e&&Ie.start()},Le.stop=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Le.Modals.stop(t),Le.Accordions.stop(t),Le.Collapsibles.stop(t),Le.Dropdowns.stop(t),Le.Tooltips.stop(t),e&&Ie.stop()},document.addEventListener("DOMContentLoaded",(function(){return Le.start()}))}));
//# sourceMappingURL=undernet.js.map
